(function(e){function t(t){for(var r,l,n=t[0],o=t[1],c=t[2],u=0,d=[];u<n.length;u++)l=n[u],s[l]&&d.push(s[l][0]),s[l]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);p&&p(t);while(d.length)d.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],r=!0,n=1;n<a.length;n++){var o=a[n];0!==s[o]&&(r=!1)}r&&(i.splice(t--,1),e=l(l.s=a[0]))}return e}var r={},s={app:0},i=[];function l(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=r,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(a,r,function(t){return e[t]}.bind(null,r));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],o=n.push.bind(n);n.push=t,n=n.slice();for(var c=0;c<n.length;c++)t(n[c]);var p=o;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"04fa":function(e,t,a){},"06f7":function(e,t,a){},1:function(e,t){},1300:function(e,t,a){"use strict";var r=a("b730"),s=a.n(r);s.a},1335:function(e,t,a){"use strict";var r=a("1e77"),s=a.n(r);s.a},"13a5":function(e,t,a){},"1e77":function(e,t,a){},2:function(e,t){},"27e2":function(e,t,a){},3:function(e,t){},4:function(e,t){},"42a2":function(e,t,a){e.exports=a.p+"img/jikyungLogo.3ecfc093.png"},4687:function(e,t,a){"use strict";var r=a("13a5"),s=a.n(r);s.a},"4b7c":function(e,t,a){"use strict";var r=a("04fa"),s=a.n(r);s.a},"4e0d":function(e,t,a){"use strict";var r=a("e3c1"),s=a.n(r);s.a},"56d7":function(e,t,a){"use strict";a.r(t);var r=a("cebc"),s=(a("cadf"),a("551c"),a("f751"),a("097d"),a("2b0e")),i=a("bb71");a("da64");s["default"].use(i["a"],{iconfont:"md"});a("bf40"),a("db4d");var l=a("8c4f"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-responsive",[a("h5",{staticClass:"display-1"},[e._v("문서검색")]),a("v-divider",{staticClass:"my-3"}),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs4:"",sm2:"","d-flex":""}},[a("v-select",{attrs:{items:e.type,label:"유형선택",outline:""},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}})],1),a("v-flex",{attrs:{xs8:"",sm2:"","d-flex":""}},[a("v-text-field",{staticClass:"vtTotalSearch",attrs:{label:"검색어를 입력하세요"},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}})],1)],1),a("v-layout",{staticStyle:{"padding-top":"20px"},attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs6:"",sm2:"","text-xs-right":""}},[a("v-btn",{attrs:{color:"primary",dark:""},on:{click:function(t){return e.btSearchFiles()}}},[e._v("\n        검색\n        "),a("v-icon",{attrs:{dark:"",right:""}},[e._v("check_circle")])],1)],1),a("v-flex",{attrs:{xs6:"",sm2:"","text-xs-letf":""}},[a("v-btn",{attrs:{color:"red",dark:""},on:{click:function(t){return e.reload()}}},[e._v("\n        초기화\n        "),a("v-icon",{attrs:{dark:"",right:""}},[e._v("block")])],1)],1)],1),a("h5",{staticClass:"display-1"},[e._v("결재현황")]),a("v-divider",{staticClass:"my-3"}),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-tabs",{attrs:{"fixed-tabs":""}},[a("v-tabs",{staticClass:"tabRelease",attrs:{"fixed-tabs":""},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},[a("v-tab",{attrs:{centered:"",href:"#tab-1"}},[a("v-badge",[a("span",[e._v("상신")])])],1),a("v-tab",{attrs:{centered:"",href:"#tab-2"}},[a("v-badge",{scopedSlots:e._u([{key:"badge",fn:function(){return[a("span",[e._v(e._s(e.approvalDataLength))])]},proxy:!0}])},[a("span",[e._v("결재")])])],1),a("v-tab",{attrs:{centered:"",href:"#tab-3"}},[a("v-badge",{scopedSlots:e._u([{key:"badge",fn:function(){return[a("span",[e._v(e._s(e.releaseDataLength))])]},proxy:!0}])},[a("span",[e._v("배포")])])],1)],1)],1),a("v-tabs-items",{model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},[a("v-tab-item",{attrs:{value:"tab-1"}},[a("v-card",{attrs:{flat:""}},[a("ReportState",{attrs:{data:e.reportData}})],1)],1),a("v-tab-item",{attrs:{value:"tab-2"}},[a("v-card",{attrs:{flat:""}},[a("ApprovalState",{attrs:{data:e.approvalData}})],1)],1),a("v-tab-item",{attrs:{value:"tab-3"}},[a("v-card",{attrs:{flat:""}},[a("ReleasedState",{attrs:{data:e.releasedData}})],1)],1)],1)],1),a("router-view",{attrs:{data:this.resultData}})],1)},o=[],c=(a("7f7f"),a("ac6a"),a("96cf"),a("3b8d")),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{directives:[{name:"resize",rawName:"v-resize",value:e.onResize,expression:"onResize"}],staticClass:"lyDataTable",attrs:{column:""}},[a("v-data-table",{staticClass:"approvalDataTable",class:{mobile:e.isMobile},attrs:{headers:e.commoneHeaders,items:e.data,pagination:e.pagination},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",{on:{click:function(a){return e.getRecApprovalDetail({item:t.item,type:"report"})}}},[a("td",[a("ul",{staticClass:"flex-content"},[a("li",{staticClass:"flex-item one-line"},[e._v(e._s(t.item.approvalName))]),a("li",{staticClass:"flex-item"},[e._v(e._s(t.item.createUsername))]),a("li",{staticClass:"flex-item"},[e._v(e._s(t.item.createDate))])])])])]}},{key:"no-data",fn:function(){return[a("td",{attrs:{colspan:"5"}},[e._v("상신한 문서가 없습니다.")])]},proxy:!0}])})],1)},u=[],d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-layout",{staticClass:"lystateBaseInfo",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"","pl-2":""}},[a("v-text-field",{attrs:{label:"제목",disabled:""},model:{value:e.approvalName,callback:function(t){e.approvalName=t},expression:"approvalName"}}),a("v-text-field",{attrs:{label:"요청자",disabled:""},model:{value:e.createUsername,callback:function(t){e.createUsername=t},expression:"createUsername"}}),a("v-text-field",{attrs:{label:"작성일",disabled:""},model:{value:e.createDate,callback:function(t){e.createDate=t},expression:"createDate"}})],1)],1),a("v-card",{staticClass:"cdstateBaseInfoFiles"},[a("v-layout",{directives:[{name:"resize",rawName:"v-resize",value:e.onResize,expression:"onResize"}],attrs:{column:""}},[a("v-data-table",{staticClass:"approvalDetailDataTable",class:{mobile:e.isMobile},attrs:{headers:e.headers,items:e.approvalRecFileData,pagination:e.pagination,"hide-headers":e.isMobile},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",[a("td",[a("ul",{staticClass:"flex-content"},[a("li",{staticClass:"flex-item",attrs:{"data-label":"No"}},[e._v(e._s(t.item.no))]),a("li",{staticClass:"flex-item one-line",attrs:{"data-label":"파일명"}},[a("v-tooltip",{attrs:{color:"black",bottom:"",right:"","max-width":"100%"},scopedSlots:e._u([{key:"activator",fn:function(r){var s=r.on;return[a("div",e._g({staticClass:"one-line",attrs:{dark:""},on:{click:function(a){return e.getFilePreview(t.item.fileHistoryId)}}},s),[e._v(e._s(t.item.fileName))])]}}],null,!0)},[a("iframe",{directives:[{name:"show",rawName:"v-show",value:e.iframe.loaded,expression:"iframe.loaded"}],staticStyle:{width:"400px",height:"300px"},attrs:{src:e.iframe.pdfFilePath,allowfullscreen:"yes",frameborder:"0",scrolling:"no"}})])],1),a("li",{staticClass:"flex-item",attrs:{"data-label":"rev"}},[e._v(e._s(t.item.rev))]),a("li",{staticClass:"flex-item",attrs:{"data-label":"작성자"}},[e._v(e._s(t.item.createUsername))]),a("li",{staticClass:"flex-item",attrs:{"data-label":"작성일"}},[e._v(e._s(t.item.createDate))])])])])]}},{key:"no-data",fn:function(){return[a("td",{attrs:{colspan:"5"}},[e._v("등록된 파일이 없습니다.")])]},proxy:!0}])})],1)],1),a("v-card",{staticStyle:{"background-color":"#ffc107",color:"black","margin-bottom":"10px"}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"headline"},[e._v("결재라인")])])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.approvalshow=!e.approvalshow}}},[a("v-icon",[e._v(e._s(e.approvalshow?"keyboard_arrow_down":"keyboard_arrow_up"))])],1)],1),a("v-container",{directives:[{name:"show",rawName:"v-show",value:e.approvalshow,expression:"approvalshow"}],attrs:{fluid:"","grid-list-lg":""}},[a("v-layout",{staticStyle:{"background-color":"white"},attrs:{row:"",wrap:""}},[e._l(e.approvalLineData,function(t){return a("v-flex",{directives:[{name:"show",rawName:"v-show",value:e.isShowApprovalLine,expression:"isShowApprovalLine"}],key:t.sort,staticStyle:{padding:"15px"},attrs:{xs12:""}},[a("v-layout",{attrs:{row:""}},[a("v-btn",{staticClass:"ma-2",attrs:{outlined:"",fab:"",color:"black"}},[e._v(e._s(t.sort))]),t.isShowState?a("v-flex",{attrs:{xs4:"","pt-1":""}},[a("v-btn",{staticClass:"btState",attrs:{outline:"",small:"",color:""+t.color,data_userId:t.userId},on:{click:e.editState}},[e._v(e._s(t.state))]),a("v-divider")],1):a("v-flex",{attrs:{xs4:"","pt-1":""}},[a("v-btn",{staticClass:"btState",attrs:{outline:"",small:"",color:""+t.color}},[e._v(e._s(t.state))]),a("v-divider"),a("span",{staticStyle:{"font-weight":"bolder","padding-left":"15px"}},[e._v(e._s(t.updateDate))])],1),a("v-flex",{attrs:{xs8:""}},[a("span",[e._v(e._s(t.name)+" / "+e._s(t.dep))]),a("v-divider"),a("span",{domProps:{innerHTML:e._s(t.contents)}})],1)],1)],1)}),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:!e.isShowApprovalLine,expression:"!isShowApprovalLine"}],staticStyle:{padding:"15px"},attrs:{xs12:"",red:""}},[a("span",[a("b",[e._v("결재 라인이 없습니다.")])])])],2),e.isChange?a("Modal",{on:{close:function(t){e.isChange=!1}}}):e._e(),e.alert.dialog?a("Alert",{attrs:{alert:e.alert},on:{"update:alert":function(t){e.alert=t},close:function(t){e.alert.dialog=!1}}}):e._e()],1)],1),a("v-card"),a("v-card",{staticClass:"cdReleaseLineLayout",staticStyle:{"background-color":"#3b3c5a",color:"black"}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"headline"},[e._v("배포정보")])])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.releaseshow=!e.releaseshow}}},[a("v-icon",[e._v(e._s(e.releaseshow?"keyboard_arrow_down":"keyboard_arrow_up"))])],1)],1),a("v-container",{directives:[{name:"show",rawName:"v-show",value:e.releaseshow,expression:"releaseshow"}],staticClass:"approvalStateDetail",attrs:{fluid:"","grid-list-lg":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",{staticClass:"white--text",attrs:{color:"white"}},[a("v-card-actions",{staticClass:"pa-3"},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[e._v("배포 다운로드 기간 :")]),a("v-spacer"),a("v-flex",{attrs:{xs7:""}},[a("div",[e._v(e._s(this.releaseStartDate)+" ~ "+e._s(this.releaseEndDate))])])],1)],1),a("v-divider",{attrs:{light:""}}),a("v-card-actions",{staticClass:"pa-3"},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs3:""}},[e._v("내부 배포처 :")]),a("v-spacer"),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:e.isShowEmployer,expression:"isShowEmployer"}],attrs:{xs9:""}},e._l(e.releaseEmployerLineData,function(t){return a("div",{key:t.sort},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs9:""}},[a("span",[e._v(e._s(t.name))]),a("br")]),a("v-flex",{attrs:{xs4:""}},[a("span",[e._v(e._s(t.readDate))])])],1)],1)}),0),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:!e.isShowEmployer,expression:"!isShowEmployer"}],attrs:{xs9:"",red:""}},[a("span",{staticStyle:{color:"white"}},[e._v("내부 배포처가 없습니다.")])])],1)],1),a("v-card-actions",{staticClass:"pa-3"},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs3:""}},[e._v("외부 배포처 :")]),a("v-spacer"),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:e.isShowPartner,expression:"isShowPartner"}],attrs:{xs9:""}},[a("v-btn",{staticClass:"btn-partner",attrs:{color:"deep-purple lighten-1"}},[e._v("협력사")]),a("v-flex",{attrs:{xs12:""}},e._l(e.releasePartnerLineData,function(t){return a("div",{key:t.sort,staticClass:"dvpartnerLine"},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs8:""}},[a("span",[e._v(e._s(t.name))]),a("br")]),a("v-flex",{attrs:{xs4:""}},[a("span",[e._v(e._s(t.readDate))]),a("br")])],1)],1)}),0)],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:!e.isShowPartner,expression:"!isShowPartner"}],attrs:{xs9:"",red:""}},[a("span",{staticStyle:{color:"white"}},[e._v("외부 배포처가 없습니다.")])])],1)],1)],1)],1)],1)],1)],1),a("v-card")],1)],1)},v=[],f=(a("28a5"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"modal"}},[a("v-dialog",{attrs:{"max-width":"500px"},on:{submit:function(t){return t.preventDefault(),e.setApprovalState()}},model:{value:this.$store.state.a.editPPapprovalState,callback:function(t){e.$set(this.$store.state.a,"editPPapprovalState",t)},expression:"this.$store.state.a.editPPapprovalState"}},[a("v-card",[a("v-card-title",[e._v("결재확인")]),a("v-card-text",[a("v-select",{attrs:{items:e.getStateData,label:"선택해주세요","item-value":"text"},model:{value:e.setApprovalData.state,callback:function(t){e.$set(e.setApprovalData,"state",t)},expression:"setApprovalData.state"}})],1),a("v-textarea",{staticClass:"textareaApprovalText",attrs:{"background-color":"grey lighten-2",height:"150px",label:"내용을 입력해주세요",color:"cyan"},model:{value:e.setApprovalData.contents,callback:function(t){e.$set(e.setApprovalData,"contents",t)},expression:"setApprovalData.contents"}}),a("v-card-actions",[a("v-layout",{attrs:{row:"","mb-2":""}},[a("v-flex",{attrs:{xs5:""}}),a("v-flex",{attrs:{xs7:"",right:""}},[a("v-btn",{attrs:{color:"blue darken-1",small:"",text:""},on:{click:e.submit}},[e._v("Save")]),a("v-btn",{attrs:{color:"blue darken-1",small:"",text:""},on:{click:function(t){return e.$emit("close")}}},[e._v("Close")])],1)],1)],1)],1)],1)],1)}),h=[],m={data:function(){return{setApprovalData:{state:"",contents:""},getStateData:["승인","반려","보류","전결"],dialog:!1}},methods:{submit:function(){this.setApprovalState()},setApprovalState:function(){try{var e={approval_id:this.$route.params.aid,state:this.setApprovalData.state,contents:this.setApprovalData.contents,user_id:this.$store.state.l.user.userid,logging:""},t=this,a=helper.getINT(e,"approval_set");a.then(function(e){t.$store.state.a.editPPapprovalState=!1}),window.location.reload()}catch(r){}}}},g=m,x=a("2877"),_=a("6544"),b=a.n(_),w=a("8336"),y=a("b0af"),D=a("99d9"),S=a("12b2"),C=a("169a"),k=a("0e8f"),N=a("a722"),P=a("b56d"),R=a("a844"),V=Object(x["a"])(g,f,h,!1,null,"2b703588",null),T=V.exports;b()(V,{VBtn:w["a"],VCard:y["a"],VCardActions:D["a"],VCardText:D["b"],VCardTitle:S["a"],VDialog:C["a"],VFlex:k["a"],VLayout:N["a"],VSelect:P["a"],VTextarea:R["a"]});var F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"alert"}},[a("div",{staticClass:"text-center"},[a("v-dialog",{attrs:{width:"500"},model:{value:e.alert.dialog,callback:function(t){e.$set(e.alert,"dialog",t)},expression:"alert.dialog"}},[a("v-card",{staticClass:"alert"},[a("v-card-text",[e._v(e._s(e.alert.message))]),a("v-divider"),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{staticStyle:{"margin-left":"260px"},attrs:{color:"primary",text:""},nativeOn:{click:function(t){return e.close(t)}}},[e._v("취소")])],1)],1)],1)],1)])},E=[],I={props:["alert"],methods:{close:function(){this.$emit("close",!1)}}},O=I,L=a("ce7e"),A=Object(x["a"])(O,F,E,!1,null,"1250bb23",null),j=A.exports;b()(A,{VBtn:w["a"],VCard:y["a"],VCardActions:D["a"],VCardText:D["b"],VDialog:C["a"],VDivider:L["a"]});a("1c46");var U={created:function(){this.getApprovalGetData()},components:{Modal:T,Alert:j},data:function(){return{iframe:{pdfFilePath:"",loaded:!1},isChange:!1,loading:!1,approvalName:"",createUsername:"",createDate:"",fhid:"",releaseStartDate:"",releaseEndDate:"",releaseContents:"",releaseEmployerLineData:[],releasePartnerLineData:[],isShowApprovalLine:!1,isShowPartner:!1,isShowEmployer:!1,approvalshow:!1,releaseshow:!1,pagination:{sortBy:"no",descending:!0},isMobile:!1,headers:[{text:"No",align:"left",value:"no"},{text:"파일명",align:"left",value:"fileName"},{text:"Rev",align:"left",value:"rev"},{text:"작성자",align:"left",value:"createUsername"},{text:"작성일",align:"left",value:"createDate"}],approvalRecFileData:[],approvalLineData:[],approvalUserId:"",alert:{dialog:!1,message:"결재자만 변경할 수 있습니다"}}},methods:{editState:function(e){var t=e.currentTarget.getAttribute("data_userId"),a=this;a.$store.state.l.user.userid!==t?(a.$store.state.a.editPPapprovalState=!1,a.alert.dialog=!0):(a.alert.dialog=!1,a.$store.state.a.editPPapprovalState=!0),a.isChange=a.$store.state.a.editPPapprovalState},onResize:function(){window.innerWidth<769?this.isMobile=!0:this.isMobile=!1},getApprovalGetData:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:try{t={approval_id:this.$route.params.aid,user_id:this.$store.state.l.user.userid},a=helper.getJSON("approval_rec_get",t),r=this,{},[],[],a.then(function(e){if(helper.isNull(e[0]))r.approvalName="",r.createUsername="",r.createDate="",r.releaseStartDate="",r.releaseEndDate="",r.releaseContents="";else{r.approvalName=e[0].approval_name,r.createUsername=e[0].name,r.createDate=helper.getSafeDate(e[0].create_date),r.releaseStartDate=helper.getSafeDate(e[0].start_date),r.releaseEndDate=helper.getSafeDate(e[0].end_date),r.releaseContents=unescape(e[0].release_contents);var t="",a={},s=[];helper.isNull(e[0].release_employer_line)?(r.isShowEmployer=!1,r.releaseEmployerLineData=[]):(t=helper.isNull(e[0].release_employer_line.split("]*["))?"":e[0].release_employer_line.split("]*["),console.log("tempLine"),console.log(t),t.forEach(function(e,t){a={},a.name=helper.isNull(e.split("||"))?"":e.split("||")[0],a.readDate=helper.isNull(e.split("||"))?"":e.split("||")[1],s.push(a)}),r.isShowEmployer=!0,r.releaseEmployerLineData=s);var i="",l={},n=[];helper.isNull(e[0].release_partner_line)?(r.isShowPartner=!1,r.releasePartnerLineData=[]):(i=helper.isNull(e[0].release_partner_line.split("]*["))?"":e[0].release_partner_line.split("]*["),i.forEach(function(e,t){l={},l.name=helper.isNull(e.split("||"))?"":e.split("||")[0],l.readDate=helper.isNull(e.split("||"))?"":e.split("||")[1],l.state=helper.isNull(e.split("||"))?"":e.split("||")[2],l.to_mail=helper.isNull(e.split("||"))?"":e.split("||")[3],n.push(l)}),r.isShowPartner=!0,r.releasePartnerLineData=n);var o="",c={},p=[];helper.isNull(e[0].file_list)?r.approvalRecFileData=[]:(o=helper.isNull(e[0].file_list.split("]*["))?"":e[0].file_list.split("]*["),o.forEach(function(e,t){c={},c.no=t+1,c.fileName=helper.isNull(e.split("||"))?"":e.split("||")[0],c.fileHistoryId=helper.isNull(e.split("||"))?"":e.split("||")[1],c.rev=helper.isNull(e.split("||"))?"":e.split("||")[2],c.createUsername=helper.isNull(e.split("||"))?"":e.split("||")[3],c.createDate=helper.isNull(e.split("||"))?"":helper.getSafeDate(e.split("||")[4]),c.fileType=helper.isNull(e.split("||"))?"":e.split("||")[6],c.previewPath=helper.isNull(e.split("||"))?"":e.split("||")[8],c.filePath=helper.isNull(e.split("||"))?"":e.split("||")[9],p.push(c)}),r.approvalRecFileData=p);var u={},d=[],v=[];helper.isNull(e[0].approval_line)?(r.isShowApprovalLine=!1,r.approvalLineData=[]):(v=helper.isNull(e[0].approval_line.split("]*["))?"":e[0].approval_line.split("]*["),v.forEach(function(e,t){u={},u.sort=e.split("||")[0],u.name=e.split("||")[1],u.dep=e.split("||")[2],u.state=e.split("||")[3],u.updateDate=e.split("||")[4],u.userId=e.split("||")[5],u.contents=unescape(e.split("||")[6]),u.readDate=e.split("||")[7],u.isShowState=!1,u.errorMessage="결재자가 아닙니다.","승인"===u.state?u.color="indigo":"결재대기"===u.state?(u.readDate="","approval"===r.$route.params.type&&(u.isShowState=!0),u.color="teal"):"보류"===u.state?("approval"===r.$route.params.type&&(u.isShowState=!0),u.color="orange darken-4"):"반려"===u.state?u.color="red darken-4":"전결"===u.state&&(u.color="green darken-4"),d.push(u)}),r.isShowApprovalLine=!0,r.approvalLineData=d)}})}catch(s){}case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getFilePreview:function(e){this.fhid=e;var t=this;this.approvalRecFileData.forEach(function(e,a){t.fhid===e.fileHistoryId&&(t.iframe.loaded=!0,helper.isNull(e.previewPath)?t.iframe.pdfFilePath="http://125.7.231.47"+e.filePath:t.iframe.pdfFilePath="http://125.7.231.47"+e.previewPath)})}}},z=U,M=(a("4b7c"),a("a523")),B=a("8fea"),H=a("132d"),J=a("9910"),G=a("2677"),W=a("3a2f"),q=a("269a"),Y=a.n(q),K=a("0d3d"),Q=Object(x["a"])(z,d,v,!1,null,null,null),X=Q.exports;b()(Q,{VBtn:w["a"],VCard:y["a"],VCardActions:D["a"],VCardTitle:S["a"],VContainer:M["a"],VDataTable:B["a"],VDivider:L["a"],VFlex:k["a"],VIcon:H["a"],VLayout:N["a"],VSpacer:J["a"],VTextField:G["a"],VTooltip:W["a"]}),Y()(Q,{Resize:K["a"]});var Z={created:function(){this.reportData=this.data},props:["data"],components:{approvalStateDetail:X},data:function(){return{model:"tab-1",pagination:{sortBy:"createDate",descending:!0},search:"",isMobile:!1,isState:!1,date:new Date,commoneHeaders:[{text:"결재제목",align:"left",value:"approvalName"},{text:"요청자",align:"left",value:"createUsername"},{text:"요청일",align:"left",value:"createDate"}]}},methods:{onResize:function(){window.innerWidth<769?this.isMobile=!0:this.isMobile=!1},getRecApprovalDetail:function(e){if(!event.target.classList.contains("datatable table")){var t=e.item.approvalId,a=e.type;this.$router.push("/approvalStateDetail/"+t+"/"+a)}}}},ee=Z,te=(a("8989"),Object(x["a"])(ee,p,u,!1,null,null,null)),ae=te.exports;b()(te,{VDataTable:B["a"],VLayout:N["a"]}),Y()(te,{Resize:K["a"]});var re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{directives:[{name:"resize",rawName:"v-resize",value:e.onResize,expression:"onResize"}],staticClass:"lyDataTable",attrs:{column:""}},[a("v-data-table",{staticClass:"approvalDataTable",class:{mobile:e.isMobile},attrs:{headers:e.commoneHeaders,items:e.data,pagination:e.pagination},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",{on:{click:function(a){return e.getRecApprovalDetail({item:t.item,type:"approval"})}}},[a("td",[a("ul",{staticClass:"flex-content"},[a("li",{staticClass:"flex-item one-line"},[e._v("["+e._s(t.item.renderType)+"] "+e._s(t.item.approvalName))]),a("li",{staticClass:"flex-item"},[e._v(e._s(t.item.createUsername))]),a("li",{staticClass:"flex-item"},[e._v(e._s(t.item.createDate))])])])])]}},{key:"no-data",fn:function(){return[a("td",{attrs:{colspan:"5"}},[e._v("결재할 문서가 없습니다.")])]},proxy:!0}])})],1)},se=[],ie={components:{approvalStateDetail:X},props:["data"],data:function(){return{model:"tab-1",pagination:{sortBy:"createDate",descending:!0},search:"",isMobile:!1,isState:!1,date:new Date,commoneHeaders:[{text:"결재제목",align:"left",value:"approvalName"},{text:"요청자",align:"left",value:"createUsername"},{text:"요청일",align:"left",value:"createDate"}]}},methods:{onResize:function(){window.innerWidth<769?this.isMobile=!0:this.isMobile=!1},getRecApprovalDetail:function(e){if(!event.target.classList.contains("datatable table")){var t=e.item.approvalId,a=e.type;this.$router.push("/approvalStateDetail/"+t+"/"+a)}}}},le=ie,ne=(a("7a88"),Object(x["a"])(le,re,se,!1,null,null,null)),oe=ne.exports;b()(ne,{VDataTable:B["a"],VLayout:N["a"]}),Y()(ne,{Resize:K["a"]});var ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{directives:[{name:"resize",rawName:"v-resize",value:e.onResize,expression:"onResize"}],staticClass:"lyDataTable",attrs:{column:""}},[a("v-data-table",{staticClass:"releaseDataTable",class:{mobile:e.isMobile},attrs:{headers:e.headers,items:e.data,pagination:e.pagination},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",{on:{click:function(a){return e.getRecReleaseDetail({item:t.item,type:"release"})}}},[a("td",[a("ul",{staticClass:"flex-content"},[a("li",{staticClass:"flex-item one-line"},[e._v(e._s(t.item.approvalName))]),a("li",{staticClass:"flex-item"},[e._v(e._s(t.item.createUsername))]),a("li",{staticClass:"flex-item"},[e._v(e._s(t.item.createDate))])])])])]}},{key:"no-data",fn:function(){return[a("td",{attrs:{colspan:"5"}},[e._v("배포 받은 문서가 없습니다.")])]},proxy:!0}])})],1)},pe=[],ue={props:["data"],data:function(){return{model:"tab-1",pagination:{sortBy:"createDate",descending:!0},isMobile:!1,headers:[{text:"결재제목",align:"left",value:"approvalName"},{text:"요청자",align:"left",value:"createUsername"},{text:"요청일",align:"left",value:"createDate"}],releasedData:[]}},methods:{onResize:function(){window.innerWidth<769?this.isMobile=!0:this.isMobile=!1},getRecReleaseDetail:function(e){if(!event.target.classList.contains("datatable table")){var t=e.item.approvalId,a=e.type;this.$router.push("/releaseStateDetail/"+t+"/"+a)}}}},de=ue,ve=(a("1300"),Object(x["a"])(de,ce,pe,!1,null,null,null)),fe=ve.exports;b()(ve,{VDataTable:B["a"],VLayout:N["a"]}),Y()(ve,{Resize:K["a"]});var he=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-toolbar",{staticClass:"toolbarApprovalStateTitle",attrs:{fixed:""}},[a("v-toolbar-title",{staticClass:"white--text"},[e._v("검색결과")]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{staticClass:"searchResultDataTable",attrs:{headers:e.resultHeaders,items:e.results,search:e.search,"custom-sort":e.customSort,"item-key":"No"},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",[a("td",[e._v(e._s(t.item.No))]),a("td",{staticClass:"text-xs-left one-line"},[a("v-tooltip",{attrs:{color:"black",bottom:"",right:"","max-width":"100%"},scopedSlots:e._u([{key:"activator",fn:function(r){var s=r.on;return[a("div",e._g({staticClass:"one-line",attrs:{dark:""},on:{click:function(a){return e.GetResultPreview(t.item.fileHistoryId)}}},s),[e._v(e._s(t.item.fileName))])]}}],null,!0)},[a("span",[e._v(e._s(t.item.fileName))]),a("iframe",{directives:[{name:"show",rawName:"v-show",value:e.iframe.loaded,expression:"iframe.loaded"}],staticStyle:{width:"400px",height:"300px"},attrs:{src:e.iframe.pdfFilePath,allowfullscreen:"yes",frameborder:"0",scrolling:"no"}})])],1),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.Rev))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.createUserName))])])]}},{key:"no-data",fn:function(){return[a("td",{staticClass:"text-xs-center",attrs:{colspan:"4"}},[e._v("\n        검색한 파일이 없습니다\n        "),a("div",{})])]},proxy:!0}])})],1)},me=[],ge=(a("55dd"),{created:function(){this.btSearchFiles()},data:function(){return{iframe:{pdfFilePath:"",loaded:!1},filehid:"",search:"",date:new Date,resultHeaders:[{text:"No",align:"left",sortable:!0,value:"No",width:"5%"},{text:"파일명",align:"left",value:"fileName",width:"70%"},{text:"Rev",align:"left",value:"Rev",width:"5%"},{text:"작성자",align:"left",value:"createUserName",width:"20%"}],results:[]}},methods:{btSearchFiles:function(){try{var e={start_date:"",end_date:"",search_type:this.$route.params.searchType,search_value:this.$route.params.searchValue,user_id:this.$store.state.l.user.userid},t=helper.getJSON("files_search_get",e),a=this;t.then(function(e){var t={},r=[];helper.isNull(e)?a.results=[]:(e.forEach(function(e,a){t={},t.No=e.rn,t.fileName=e.file_name,t.Rev=e.revision,t.createUserName=e.create_username,t.fileHistoryId=e.file_history_id,t.previewPath=e.preview_path,t.filePath=e.file_path,r.push(t)}),a.results=r)})}catch(r){}},GetResultPreview:function(e){this.filehid=e;var t=this;this.results.forEach(function(e,a){t.filehid===e.fileHistoryId&&(t.iframe.loaded=!0,helper.isNull(e.previewPath)?t.iframe.pdfFilePath="http://125.7.231.47"+e.filePath:t.iframe.pdfFilePath="http://125.7.231.47"+e.previewPath)})},customSort:function(e,t,a){return e.sort(function(e,r){if("date"===t)return a?compare(r.date,e.date):compare(e.date,r.date)}),e}}}),xe=ge,_e=(a("4687"),a("71d9")),be=a("2a7f"),we=Object(x["a"])(xe,he,me,!1,null,null,null),ye=we.exports;b()(we,{VDataTable:B["a"],VSpacer:J["a"],VTextField:G["a"],VToolbar:_e["a"],VToolbarTitle:be["a"],VTooltip:W["a"]});var De={components:{ReportState:ae,ApprovalState:oe,ReleasedState:fe},created:function(){this.loadApprovalState()},data:function(){return{size:"sm",type:[{text:"파일명",value:"fileName"},{text:"확장명",value:"fileType"},{text:"작성자",value:"createUser"}],searchValue:"",selectedType:"",resultData:[],model:"tab-1",reportDataLength:0,approvalDataLength:0,releaseDataLength:0,approvalData:[],reportData:[],releasedData:[]}},methods:{btSearchFiles:function(){var e=this.selectedType,t=this.searchValue;this.$router.push("/searchResult/"+e+"/"+t)},reload:function(){this.selectedType="",this.searchValue=""},loadApprovalState:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,a,r,s,i,l,n,o,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:try{t={user_id:this.$store.state.l.user.userid},a=helper.getJSON("dashboard_get",t),r=this,s={},i=[],l={},n=[],o={},c=[],a.then(function(e){helper.isNull(e[0])?r.reportData=[]:(e[0].forEach(function(e,t){s={},s.approvalId=e.approval_id,s.approvalName=e.approval_name,s.createUsername=e.name,s.createDate=helper.getSafeDate(e.create_date),i.push(s)}),r.reportData=i),helper.isNull(e[1])?r.approvalData=[]:(e[1].forEach(function(e,t){null!==e.read_date&&""!==helper.getSafeDate(e.read_date)||r.approvalDataLength++,l={},l.approvalId=e.approval_id,l.approvalName=e.approval_name,l.createUsername=e.name,l.createDate=helper.getSafeDate(e.create_date),l.renderType="approval"===e.render_type?"결재":"release"===e.render_type?"배포":"",n.push(l)}),r.approvalData=n),helper.isNull(e[2])?r.releasedData=[]:(e[2].forEach(function(e,t){null!==e.read_date&&""!==helper.getSafeDate(e.read_date)||r.releaseDataLength++,o={},o.approvalId=e.approval_id,o.approvalName=e.approval_name,o.createUsername=e.name,o.createDate=helper.getSafeDate(e.create_date),c.push(o)}),r.releasedData=c)})}catch(p){}case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},Se=De,Ce=(a("dac7"),a("4ca6")),ke=a("6b53"),Ne=a("71a3"),Pe=a("c671"),Re=a("fe57"),Ve=a("aac8"),Te=Object(x["a"])(Se,n,o,!1,null,null,null),Fe=Te.exports;b()(Te,{VBadge:Ce["a"],VBtn:w["a"],VCard:y["a"],VDivider:L["a"],VFlex:k["a"],VIcon:H["a"],VLayout:N["a"],VResponsive:ke["a"],VSelect:P["a"],VTab:Ne["a"],VTabItem:Pe["a"],VTabs:Re["a"],VTabsItems:Ve["a"],VTextField:G["a"]});var Ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),e.handleSubmit()}}},[a("v-text-field",{staticClass:"v-text-field",attrs:{placeholder:"user_id",required:""},model:{value:e.user_id,callback:function(t){e.user_id=t},expression:"user_id"}}),a("v-text-field",{staticClass:"v-text-field",attrs:{placeholder:"user_pw",type:"password",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit(t)}},model:{value:e.user_pw,callback:function(t){e.user_pw=t},expression:"user_pw"}}),a("v-btn",{on:{click:e.submit}},[e._v("submit")]),a("v-btn",{on:{click:e.clear}},[e._v("clear")])],1)},Ie=[],$e=a("bc3a"),Oe=a.n($e),Le={login:Ae,logout:je};function Ae(e,t){return Oe.a.post("/api/auth/login",{user_id:e,user_pw:t}).then(Ue)}function je(){localStorage.removeItem("accessToken")}function Ue(e){return""===e.data?null:(localStorage.accessToken=e.data,Oe.a.defaults.headers.common["Authorization"]="Bearer ".concat(localStorage.accessToken),e.data)}var ze={auth:!1,data:function(){return{user_id:"",user_pw:""}},created:function(){},computed:{loggingIn:function(){return this.$store.state.l.loggin}},methods:{submit:function(){this.handleSubmit()},handleSubmit:function(){var e=this;if(helper.isNull(this.user_id&&this.user_pw))return alert("아이디 또는 비밀번호를 입력해주세요"),!1;Le.login(this.user_id,this.user_pw).then(function(t){helper.isNull(t)?(alert("아이디 또는 비밀번호를 다시 입력해주세요"),e.$router.push("/auth")):(e.$store.state.l.user=helper.parseJwt(t),e.$store.state.l.loggin=!0,e.loadCategory(),e.$router.push("/home-page"))})},loadCategory:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:try{t={user_id:this.$store.state.l.user.userid},a=fw.getCategory(t),r=this,a.then(function(e){r.$store.state.c.category=e,localStorage.setItem("categoryData",JSON.stringify(e))})}catch(s){window.alert(s)}case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),clear:function(){this.user_id="",this.user_pw=""}}},Me=ze,Be=(a("4e0d"),Object(x["a"])(Me,Ee,Ie,!1,null,null,null)),He=Be.exports;b()(Be,{VBtn:w["a"],VTextField:G["a"]});var Je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-layout",{staticClass:"lystateBaseInfo",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"","pl-2":""}},[a("v-text-field",{attrs:{label:"배포제목",disabled:""},model:{value:e.approvalName,callback:function(t){e.approvalName=t},expression:"approvalName"}}),a("v-text-field",{attrs:{label:"배포자",disabled:""},model:{value:e.createUsername,callback:function(t){e.createUsername=t},expression:"createUsername"}}),a("v-text-field",{attrs:{label:"배포일",disabled:""},model:{value:e.createDate,callback:function(t){e.createDate=t},expression:"createDate"}})],1)],1),a("v-card",{staticClass:"cdstateBaseInfoFiles"},[a("v-layout",{directives:[{name:"resize",rawName:"v-resize",value:e.onResize,expression:"onResize"}],attrs:{column:""}},[a("v-data-table",{staticClass:"approvalDetailDataTable",class:{mobile:e.isMobile},attrs:{headers:e.headers,items:e.approvalRecFileData,pagination:e.pagination,"hide-headers":e.isMobile},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",[a("td",[a("ul",{staticClass:"flex-content"},[a("li",{staticClass:"flex-item",attrs:{"data-label":"No"}},[e._v(e._s(t.item.no))]),a("li",{staticClass:"flex-item one-line",attrs:{"data-label":"파일명"}},[a("v-tooltip",{attrs:{color:"black",bottom:"",right:"","max-width":"100%"},scopedSlots:e._u([{key:"activator",fn:function(r){var s=r.on;return[a("div",e._g({staticClass:"one-line",attrs:{dark:""},on:{click:function(a){return e.getFilePreview(t.item.fileHistoryId)}}},s),[e._v(e._s(t.item.fileName))])]}}],null,!0)},[a("iframe",{directives:[{name:"show",rawName:"v-show",value:e.iframe.loaded,expression:"iframe.loaded"}],staticStyle:{width:"400px",height:"300px"},attrs:{src:e.iframe.pdfFilePath,allowfullscreen:"yes",frameborder:"0",scrolling:"no"}})])],1),a("li",{staticClass:"flex-item",attrs:{"data-label":"rev"}},[e._v(e._s(t.item.rev))]),a("li",{staticClass:"flex-item",attrs:{"data-label":"작성자"}},[e._v(e._s(t.item.createUsername))]),a("li",{staticClass:"flex-item",attrs:{"data-label":"작성일"}},[e._v(e._s(t.item.createDate))])])])])]}},{key:"no-data",fn:function(){return[a("td",{attrs:{colspan:"5"}},[e._v("등록된 파일이 없습니다.")])]},proxy:!0}])})],1)],1),a("v-card",{staticClass:"cdReleaseLineLayout",staticStyle:{"background-color":"#3b3c5a",color:"black"}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"headline"},[e._v("배포정보")])])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.releaseshow=!e.releaseshow}}},[a("v-icon",[e._v(e._s(e.releaseshow?"keyboard_arrow_down":"keyboard_arrow_up"))])],1)],1),a("v-container",{directives:[{name:"show",rawName:"v-show",value:e.releaseshow,expression:"releaseshow"}],attrs:{fluid:"","grid-list-lg":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",{staticClass:"white--text",attrs:{color:"white"}},[a("v-card-actions",{staticClass:"pa-3"},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[e._v("배포 내용 :")]),a("v-spacer"),a("v-flex",{attrs:{xs8:""}},[a("div",{domProps:{innerHTML:e._s(this.releaseContents)}})])],1)],1),a("v-card-actions",{directives:[{name:"show",rawName:"v-show",value:"배포커뮤니티"===e.releasePartnerMethod,expression:"releasePartnerMethod === '배포커뮤니티'"}],staticClass:"pa-3"},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[e._v("외부배포 방법 :")]),a("v-spacer"),a("v-flex",{attrs:{xs8:""}},[a("div",[e._v(e._s(e.releasePartnerMethod))])])],1)],1),a("v-card-actions",{directives:[{name:"show",rawName:"v-show",value:"배포커뮤니티"===e.releasePartnerMethod,expression:"releasePartnerMethod === '배포커뮤니티'"}],staticClass:"pa-3"},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[e._v("다운로드 횟수 :")]),a("v-spacer"),a("v-flex",{attrs:{xs8:""}},[a("div",[e._v(e._s(e.releaseDownloadCount))])])],1)],1),a("v-divider",{attrs:{light:""}}),a("v-card-actions",{staticClass:"pa-3"},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs3:""}},[e._v("내부 배포처 :")]),a("v-spacer"),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:e.isShowEmployer,expression:"isShowEmployer"}],attrs:{xs9:""}},e._l(e.releaseEmployerLineData,function(t){return a("div",{key:t.sort},["release"===t.type?a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("span",[e._v(e._s(t.name))]),a("br")])],1):a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs9:""}},[a("span",[e._v(e._s(t.name))]),a("br")]),a("v-flex",{attrs:{xs4:""}},[a("span",[e._v(e._s(t.readDate))])])],1)],1)}),0),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:!e.isShowEmployer,expression:"!isShowEmployer"}],attrs:{xs9:"",red:""}},[a("span",{staticStyle:{color:"white"}},[e._v("내부 배포처가 없습니다.")])])],1)],1),a("v-card-actions",{staticClass:"pa-3"},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs3:""}},[e._v("외부 배포처 :")]),a("v-spacer"),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:e.isShowPartner,expression:"isShowPartner"}],attrs:{xs9:""}},[a("v-btn",{staticClass:"btn-partner",attrs:{color:"deep-purple lighten-1"}},[e._v("협력사")]),a("v-flex",{attrs:{xs12:""}},e._l(e.releasePartnerLineData,function(t){return a("div",{key:t.sort,staticClass:"dvpartnerLine"},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("span",[e._v(e._s(t.name))]),a("br")])],1)],1)}),0)],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:!e.isShowPartner,expression:"!isShowPartner"}],attrs:{xs9:"",red:""}},[a("span",{staticStyle:{color:"white"}},[e._v("외부 배포처가 없습니다.")])])],1)],1)],1)],1)],1)],1)],1),a("v-card")],1)],1)},Ge=[],We={created:function(){this.getReleaseGetData()},data:function(){return{iframe:{pdfFilePath:"",loaded:!1},isChange:!1,loading:!1,approvalName:"",createUsername:"",createDate:"",fhid:"",releaseStartDate:"",releaseEndDate:"",releaseContents:"",releasePartnerMethod:"",releaseDownloadCount:0,releaseEmployerLineData:[],releasePartnerLineData:[],isShowApprovalLine:!1,isShowPartner:!1,isShowEmployer:!1,approvalshow:!1,releaseshow:!1,pagination:{sortBy:"createDate",descending:!0},isMobile:!1,headers:[{text:"No",align:"left",value:"no"},{text:"파일명",align:"left",value:"fileName"},{text:"Rev",align:"left",value:"rev"},{text:"작성자",align:"left",value:"createUsername"},{text:"작성일",align:"left",value:"createDate"}],approvalRecFileData:[],approvalLineData:[],approvalUserId:"",alert:{dialog:!1,message:"결재자만 변경할 수 있습니다"}}},methods:{onResize:function(){window.innerWidth<769?this.isMobile=!0:this.isMobile=!1},getReleaseGetData:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:try{t={approval_id:this.$route.params.aid,user_id:this.$store.state.l.user.userid},a=helper.getJSON("approval_release_rec_get",t),r=this,{},[],[],a.then(function(e){if(helper.isNull(e[0]))r.approvalName="",r.createUsername="",r.createDate="",r.releaseStartDate="",r.releaseEndDate="",r.releaseContents="";else{r.approvalName=e[0][0].approval_name,r.createUsername=e[0][0].name,r.createDate=helper.getSafeDate(e[0][0].create_date),r.releaseStartDate=helper.getSafeDate(e[0][0].start_date),r.releaseEndDate=helper.getSafeDate(e[0][0].end_date),r.releaseContents=unescape(e[0][0].release_contents),r.releasePartnerMethod="community"===e[0][0].release_transport?"배포커뮤니티":"메일",r.releaseDownloadCount=e[0][0].download_limit_count;var t="",a={},s=[];helper.isNull(e[0][0].release_employer_line)?(r.isShowEmployer=!1,r.releaseEmployerLineData=[]):(t=helper.isNull(e[0][0].release_employer_line.split("]+["))?"":e[0][0].release_employer_line.split("]+["),t.forEach(function(e,t){a={},a.name=helper.isNull(e.split("||"))?"":e.split("||")[0],a.readDate=helper.isNull(e.split("||"))?"":e.split("||")[1],a.type=r.$route.params.type,s.push(a)}),r.isShowEmployer=!0,r.releaseEmployerLineData=s);var i="",l={},n=[];helper.isNull(e[0][0].release_partner_line)?(r.isShowPartner=!1,r.releasePartnerLineData=[]):(i=helper.isNull(e[0][0].release_partner_line.split("]+["))?"":e[0][0].release_partner_line.split("]+["),i.forEach(function(e,t){l={},l.name=helper.isNull(e.split("||"))?"":e.split("||")[0],l.readDate=helper.isNull(e.split("||"))?"":e.split("||")[1],l.state=helper.isNull(e.split("||"))?"":e.split("||")[2],l.to_mail=helper.isNull(e.split("||"))?"":e.split("||")[3],l.type=r.$route.params.type,n.push(l)}),r.isShowPartner=!0,r.releasePartnerLineData=n)}var o={},c=[];helper.isNull(e[1])?r.approvalRecFileData=[]:(e[1].forEach(function(e,t){o={},o.no=t+1,o.createDate=helper.getSafeDate(e.create_date),o.fileHistoryId=e.file_history_id,o.fileName=e.file_name,o.createUsername=e.name,o.rev=e.revision,o.previewPath=e.preview_path,o.filePath=e.file_path,c.push(o)}),r.approvalRecFileData=c)})}catch(s){}case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getFilePreview:function(e){this.fhid=e;var t=this;this.approvalRecFileData.forEach(function(e,a){t.fhid===e.fileHistoryId&&(t.iframe.loaded=!0,helper.isNull(e.previewPath)?t.iframe.pdfFilePath="http://125.7.231.47"+e.filePath:t.iframe.pdfFilePath="http://125.7.231.47"+e.previewPath)})}}},qe=We,Ye=(a("1335"),Object(x["a"])(qe,Je,Ge,!1,null,null,null)),Ke=Ye.exports;b()(Ye,{VBtn:w["a"],VCard:y["a"],VCardActions:D["a"],VCardTitle:S["a"],VContainer:M["a"],VDataTable:B["a"],VDivider:L["a"],VFlex:k["a"],VIcon:H["a"],VLayout:N["a"],VSpacer:J["a"],VTextField:G["a"],VTooltip:W["a"]}),Y()(Ye,{Resize:K["a"]});var Qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-toolbar",{staticClass:"toolbarApprovalStateTitle",attrs:{fixed:""}},[a("v-toolbar-title",{staticClass:"white--text"},[e._v("검색결과")]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{staticClass:"boardDataTable",attrs:{headers:e.headers,items:e.boardFilesData,expand:e.expand,search:e.search,pagination:e.pagination,"item-key":"No"},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",{on:{click:function(e){t.expanded=!t.expanded}}},[a("td",[e._v(e._s(t.item.No))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.fileName))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.Rev))])])]}},{key:"no-data",fn:function(){return[a("td",{staticClass:"text-xs-center",attrs:{colspan:"3"}},[e._v("등록된 파일이 없습니다.")])]},proxy:!0},{key:"expand",fn:function(e){return[a("boardDetailInfo",{attrs:{data:e}})]}},{key:"no-results",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[e._v('Your search for "'+e._s(e.search)+'" found no results.')])]},proxy:!0}])})],1)},Xe=[],Ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"ctFileDetailInfo"},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs3:""}},[a("v-subheader",[e._v("크기")])],1),a("v-flex",{attrs:{xs9:"","pt-2":""}},[a("label",[e._v(e._s(this.fileSize))])])],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs3:""}},[a("v-subheader",[e._v("확장자")])],1),a("v-flex",{attrs:{xs9:"","pt-2":""}},[a("label",[e._v(e._s(this.fileType))])])],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs3:""}},[a("v-subheader",[e._v("작성자")])],1),a("v-flex",{attrs:{xs9:"","pt-2":""}},[a("label",[e._v(e._s(this.createUsername))])])],1),a("v-layout",{staticStyle:{"margin-bottom":"10px"},attrs:{row:""}},[a("v-flex",{attrs:{xs3:""}},[a("v-subheader",[e._v("작성일")])],1),a("v-flex",{attrs:{xs9:"","pt-2":""}},[a("label",[e._v(e._s(this.createDate))])])],1),a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-flex",{attrs:{xs4:""}}),a("v-flex",{staticStyle:{"margin-left":"50px","margin-top":"5px"},attrs:{xs4:""}},[a("v-dialog",{attrs:{width:"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({staticClass:"btFileDetailInfo",attrs:{color:"primary",dark:""}},r),[e._v("상세보기")])]}}]),model:{value:e.isClose,callback:function(t){e.isClose=t},expression:"isClose"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("문서상세정보")])]),a("v-tabs",{staticClass:"tabBoardDetail",attrs:{"fixed-tabs":""},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},[a("v-tab",{attrs:{centered:"",href:"#tab-1"}},[e._v("미리보기")]),a("v-tab",{attrs:{centered:"",href:"#tab-2"}},[e._v("변경이력")]),a("v-tab",{attrs:{centered:"",href:"#tab-3"}},[e._v("연계문서")])],1),a("v-tabs-items",{model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},[a("v-tab-item",{attrs:{value:"tab-1"}},[a("v-card",{attrs:{flat:""}},[a("div",{staticClass:"subheading pl-3 pt-3"},[e._v(e._s(this.fileName))]),a("div",{ref:"dvPdfContainer"},[a("v-divider"),a("h3",{directives:[{name:"show",rawName:"v-show",value:!e.iframe.loaded,expression:"!iframe.loaded"}],staticStyle:{margin:"10px"}},[e._v("미리보기가 없습니다.")]),a("v-layout",{directives:[{name:"show",rawName:"v-show",value:!e.iframe.loaded,expression:"!iframe.loaded"}],staticClass:"fileinput fileinput-new",attrs:{"data-provides":"fileinput"}},[a("v-flex",{attrs:{xs7:""}},[a("input",{attrs:{type:"hidden"}}),a("input",{staticStyle:{"padding-top":"8px"},attrs:{type:"file",name:"",accept:".pdf"}})]),a("v-flex",{attrs:{xs5:""}},[a("v-btn",{staticClass:"white--text",attrs:{loading:e.loading1,disabled:e.loading1,color:"blue-grey"},on:{click:function(t){e.loader="loading1"}}},[e._v("\n                        Upload\n                        "),a("v-icon",{attrs:{right:"",dark:""}},[e._v("cloud_upload")])],1)],1)],1),a("iframe",{directives:[{name:"show",rawName:"v-show",value:e.iframe.loaded,expression:"iframe.loaded"}],staticStyle:{width:"400px",height:"300px"},attrs:{src:e.iframe.pdfFilePath,allowfullscreen:"yes",frameborder:"0",scrolling:"no"}})],1)])],1),a("v-tab-item",{attrs:{value:"tab-2"}},[a("v-card",{staticStyle:{"margin-bottom":"30px"},attrs:{flat:""}},[a("v-layout",{directives:[{name:"resize",rawName:"v-resize",value:e.onResize,expression:"onResize"}],attrs:{column:""}},[a("v-data-table",{staticClass:"revisionHistoryDataTable",class:{mobile:e.isMobile},attrs:{headers:e.revisionHeaders,items:e.revisionData,pagination:e.paginationRevision},on:{"update:pagination":function(t){e.paginationRevision=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",[a("td",[a("ul",{staticClass:"flex-content"},[a("li",{staticClass:"flex-item"},[e._v(e._s(t.item.rev))]),a("li",{staticClass:"flex-item"},[a("v-tooltip",{attrs:{color:"black",bottom:"",right:"","max-width":"100%"},scopedSlots:e._u([{key:"activator",fn:function(r){var s=r.on;return[a("div",e._g({staticClass:"one-line",attrs:{dark:""},on:{click:function(a){return e.getRevisionPreview(t.item.fileHistoryId)}}},s),[e._v(e._s(t.item.fileName))])]}}],null,!0)},["최초등록"===t.item.firstRevision?a("div",[e._v(e._s(t.item.firstRevision))]):a("div",[a("label",[e._v("변경유형 :")]),a("span",[e._v(e._s(t.item.updateType))]),a("br"),a("label",[e._v("변경내용 :")]),a("span",[e._v(e._s(t.item.updateDesc))])]),a("br"),a("iframe",{directives:[{name:"show",rawName:"v-show",value:e.iframe.loaded,expression:"iframe.loaded"}],staticStyle:{width:"400px",height:"300px"},attrs:{src:e.iframe.revisionPdfFilePath,allowfullscreen:"yes",frameborder:"0",scrolling:"no"}})])],1),a("li",{staticClass:"flex-item"},[e._v(e._s(t.item.createDate))]),a("li",{staticClass:"flex-item"},[e._v(e._s(t.item.createUsername))])])])])]}},{key:"no-data",fn:function(){return[a("td",{attrs:{colspan:"5"}},[e._v("등록된 변경이력이 없습니다.")])]},proxy:!0}])})],1)],1)],1),a("v-tab-item",{attrs:{value:"tab-3"}},[a("v-card",{staticStyle:{"margin-bottom":"30px"},attrs:{flat:""}},[a("v-layout",{directives:[{name:"resize",rawName:"v-resize",value:e.onResize,expression:"onResize"}],attrs:{column:""}},[a("v-data-table",{staticClass:"relationFilesDataTable",class:{mobile:e.isMobile},attrs:{headers:e.relationHeaders,items:e.relationData,pagination:e.pagination},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",[a("td",[a("ul",{staticClass:"flex-content"},[a("li",{staticClass:"flex-item"},[e._v(e._s(t.item.no))]),a("li",{staticClass:"flex-item"},[a("v-tooltip",{attrs:{color:"black",bottom:"",right:"","max-width":"100%"},scopedSlots:e._u([{key:"activator",fn:function(r){var s=r.on;return[a("div",e._g({staticClass:"one-line",attrs:{dark:""},on:{click:function(a){return e.getRelationPreview(t.item.fileHistoryId)}}},s),[e._v(e._s(t.item.fileName))])]}}],null,!0)},[a("iframe",{directives:[{name:"show",rawName:"v-show",value:e.iframe.loaded,expression:"iframe.loaded"}],staticStyle:{width:"400px",height:"300px"},attrs:{src:e.iframe.relationPdfFilePath,allowfullscreen:"yes",frameborder:"0",scrolling:"no"}})])],1),a("li",{staticClass:"flex-item"},[e._v(e._s(t.item.rev))]),a("li",{staticClass:"flex-item"},[e._v(e._s(t.item.createUsername))]),a("li",{staticClass:"flex-item"},[e._v(e._s(t.item.createDate))])])])])]}},{key:"no-data",fn:function(){return[a("td",{attrs:{colspan:"5"}},[e._v("등록된 연계문서가 없습니다.")])]},proxy:!0}])})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-1",flat:"flat"},on:{click:function(t){e.isClose=!1}}},[e._v("닫기")])],1)],1)],1)],1),a("v-flex",{attrs:{xs4:""}})],1)],1)},et=[],tt={props:["data"],created:function(){this.fileName=this.data.item.fileName,this.fileId=this.data.item.fileId,this.fileHistoryId=this.data.item.fileHistoryId,this.fileSize=this.data.item.fileSize,this.fileType=this.data.item.fileType,this.createUsername=this.data.item.createUsername,this.createDate=helper.getSafeDate(this.data.item.createDate);var e={file_id:this.fileId,file_history_id:this.fileHistoryId,user_id:this.$store.state.l.user.userid};this.getRevisionTable(e)},data:function(){return{iframe:{pdfFilePath:"",revisionPdfFilePath:"",relationPdfFilePath:"",loaded:!1},disabled:!1,loading1:!1,relationFhid:"",revisionFhid:"",fileSize:"",fileType:"",createUsername:"",createDate:"",fileName:"",model:"tab-1",isClose:!1,pagination:{sortBy:"rev",descending:!0},paginationRevision:{sortBy:"no",descending:!0},isMobile:!0,relationHeaders:[{text:"no",align:"left",value:"no"},{text:"파일명",align:"left",value:"fileName"},{text:"Rev",align:"left",value:"rev"},{text:"작성자",align:"left",value:"createUsername"},{text:"작성일",align:"left",value:"createDate"},{text:"",align:"left",value:"revisionInfo"}],revisionHeaders:[{text:"rev",align:"left",value:"rev"},{text:"파일명",align:"left",value:"fileName"},{text:"작성일",align:"left",value:"createDate"},{text:"작성자",align:"left",value:"createUsername"}],relationData:[],revisionData:[]}},methods:{onResize:function(){window.innerWidth<769?this.isMobile=!0:this.isMobile=!1},getRevisionTable:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:try{a=helper.getJSON("files_rec_get",t),r=this,a.then(function(e){var t={},a=[],s=[],i="";e[0].forEach(function(e,r){helper.isNull(e)?a=[]:(t={},t.rev=e.rn,t.fileHistoryId=e.file_history_id,t.fileName=e.file_name,t.createDate=helper.getSafeDate(e.create_date),t.createUsername=e.name,t.previewPath=e.preview_path,t.filePath=e.file_path,1===e.rn&&helper.isNull(e.work_desc)&&(e.work_desc="최초등록",t.firstRevision=e.work_desc),i=e.work_desc,s=helper.isNull(i.split("||"))?"":i.split("||"),t.updateType=""===s[2]?"":s[2],t.updateDesc=""===s[3]?"":s[3],a.push(t))}),r.revisionData=a,helper.isNull(e[1][0].preview_path)?(r.iframe.loaded=!0,r.iframe.pdfFilePath="http://125.7.231.47"+e[1][0].file_path):(r.iframe.loaded=!0,r.iframe.pdfFilePath="http://125.7.231.47"+e[1][0].preview_path);var l={},n=[];e[3].forEach(function(e,t){if(-1===e.rtnVal)return r.relationData="",r.relationData;l={},l.no=e.rn,l.fileHistoryId=e.file_history_id,l.fileName=e.file_name,l.rev=e.revision,l.createDate=helper.getSafeDate(e.create_date),l.createUsername=e.create_username,l.previewPath=e.preview_path,l.filePath=e.file_path,n.push(l)}),r.relationData=n})}catch(s){}case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),getRelationPreview:function(e){this.relationFhid=e;var t=this;this.relationData.forEach(function(e,a){t.relationFhid===e.fileHistoryId&&(t.iframe.loaded=!0,helper.isNull(e.previewPath)?t.iframe.pdfFilePath="http://125.7.231.47"+e.filePath:t.iframe.relationPdfFilePath="http://125.7.231.47"+e.previewPath)})},getRevisionPreview:function(e){this.revisionFhid=e;var t=this;this.revisionData.forEach(function(e,a){t.revisionFhid===e.fileHistoryId&&(t.iframe.loaded=!0,helper.isNull(e.previewPath)?t.iframe.pdfFilePath="http://125.7.231.47"+e.filePath:t.iframe.revisionPdfFilePath="http://125.7.231.47"+e.previewPath)})}}},at=tt,rt=(a("cc93"),a("e0c7")),st=Object(x["a"])(at,Ze,et,!1,null,null,null),it=st.exports;b()(st,{VBtn:w["a"],VCard:y["a"],VCardActions:D["a"],VCardTitle:S["a"],VContainer:M["a"],VDataTable:B["a"],VDialog:C["a"],VDivider:L["a"],VFlex:k["a"],VIcon:H["a"],VLayout:N["a"],VSpacer:J["a"],VSubheader:rt["a"],VTab:Ne["a"],VTabItem:Pe["a"],VTabs:Re["a"],VTabsItems:Ve["a"],VTooltip:W["a"]}),Y()(st,{Resize:K["a"]});var lt={created:function(){var e=this;this.$store.dispatch("loadBoard"),setTimeout(function(){e.boardFilesData=e.$store.getters.doArrData},200)},watch:{$route:function(e,t){var a=this;this.$store.dispatch("loadBoard"),setTimeout(function(){a.boardFilesData=JSON.parse(localStorage.getItem("boardFilesData"))},200)}},components:{boardDetailInfo:it},data:function(){return{pagination:{sortBy:"No",descending:!0},search:"",date:new Date,expand:!1,headers:[{text:"No",align:"left",sortable:!0,value:"No",width:"5%"},{text:"파일명",align:"left",value:"fileName",width:"80%"},{text:"Rev",align:"left",value:"Rev",width:"5%"}],boardFilesData:[],boardId:"",obj_detail:{}}}},nt=lt,ot=(a("ffef"),a("0798")),ct=Object(x["a"])(nt,Qe,Xe,!1,null,null,null),pt=ct.exports;b()(ct,{VAlert:ot["a"],VDataTable:B["a"],VSpacer:J["a"],VTextField:G["a"],VToolbar:_e["a"],VToolbarTitle:be["a"]});var ut=[{name:"home-page",path:"/home-page",component:Fe,display:"HomePage",icon:"home",meta:{requiresLogin:!0}},{name:"auth",path:"/auth",component:He,display:"Auth",icon:"graduation-cap"},{name:"reportState",path:"/reportState",component:ae,display:"reportState"},{name:"approvalState",path:"/approvalState",component:oe,display:"approvalState"},{name:"approvalStateDetail",path:"/approvalStateDetail/:aid/:type",component:X,display:"approvalStateDetail"},{name:"releaseStateDetail",path:"/releaseStateDetail/:aid/:type",component:Ke,display:"releaseStateDetail"},{name:"getRecBoard",path:"/getRecBoard/:bid",component:pt,display:"getRecBoard"},{name:"releasedState",path:"/releasedState",component:fe,display:"releasedState"},{name:"searchResult",path:"/searchResult/:searchType/:searchValue",component:ye,display:"searchResult"}],dt=a("7618"),vt=(a("a481"),{install:function(e){e.directive("focus",{inserted:function(e){e.focus()}}),window.helper=function(){},this.getSafeInt=function(e,t){return t=this.isSafeInt(t)?t:0,this.isSafeInt(e)?parseInt(e,10):t},helper.getSafeFloat=function(e,t){return t=this.isSafeFloat(t)?t:0,this.isSafeFloat(e)?parseFloat(e,10):t},helper.getSafeStr=function(e,t){return t=this.isEmptyStr(t)?"":t,this.isEmptyStr(e)?t.trim():e.trim()},helper.parseJwt=function(e){if(this.isNull(e))return"";var t=e.split(".")[1],a=t.replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(decodeURIComponent(window.atob(a)))},helper.navNoShow=function(e,t){return e.filter(function(e){return-1===e.name.indexOf(t)})},helper.getSafeBool=function(e,t){return t=!this.isEmpty(t)&&t,e=this.isEmpty(e)?t:e,!0===e||!1===e?e:1===e||0===e?1===e:"true"===e||"false"===e?"true"===e:"True"===e||"False"===e?"True"===e:"TRUE"===e||"FALSE"===e?"TRUE"===e:("1"===e||"0"===e)&&"1"===e},helper.getSafeDate=function(e,t,a){var r=this.isEmpty(e)?a:this.getDateFromJsonDate(e);return r},helper.getDateFromJsonDate=function(e){var t="";try{if(null!==e&&(t=e.substring(0,10),this.isSafeInt(t)))return new Date(parseInt(t,10))}catch(a){}return t},helper.brText=function(){return this.replace(/\n/g,"<br />")},helper.isNull=function(e){var t=!0;return t="undefined"===typeof e||void 0===e||"null"===e||null===e||""===e||Object(dt["a"])(e)===[]&&e.length<1,t},helper.isEmpty=function(e){return"undefined"===typeof e||void 0===e||null===e},helper.serialize=function(e,t){var a,r=[];for(a in e)if(e.hasOwnProperty(a)){var s=t?t+"["+a+"]":a,i=e[a];r.push(null!==i&&"object"===Object(dt["a"])(i)?this.serialize(i,s):encodeURIComponent(s)+"="+encodeURIComponent(i))}return r.join("&")},helper.getJSON=function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,a,r){var s,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,s={spName:t,jsonParam:JSON.stringify(a),logging:""},e.next=4,Oe.a.post("/api/ajax/dbGetResultAsJson",s).then(r).catch(function(e){});case 4:return i=e.sent,e.abrupt("return",i.data);case 8:e.prev=8,e.t0=e["catch"](0);case 10:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,a,r){return e.apply(this,arguments)}}(),helper.getINT=function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=JSON.stringify(t),e.next=3,Oe.a.get("/api/ajax/dbGetResultAsInt?spName="+a+"&jsonParam="+t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),helper.getSTR=function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=JSON.stringify(t),e.next=3,Oe.a.get("/api/ajax/dbGetResultAsStr?spName="+a+"&jsonParam="+t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),helper.getExtension=function(e){if(helper.isNull(e))return"";var t=e.substr(e.lastIndexOf(".")+1).toLowerCase();return t},helper.getSafeBoolean=function(e,t){return t=!this.isEmpty(t)&&t,e=this.isEmpty(e)?t:e,!0===e||!1===e?e:1===e||0===e?1===e:"true"===e||"false"===e?"true"===e:"True"===e||"False"===e?"True"===e:"TRUE"===e||"FALSE"===e?"TRUE"===e:("1"===e||"0"===e)&&"1"===e},helper.chkDrawingImgFile=function(e){return-1!=$.inArray(e,base.drawingImgExt)},helper.setChangeFileExtension=function(e,t){if(helper.isNull(e))return"";e.substr(e.lastIndexOf(".")+1).toLowerCase();return e.substring(0,e.lastIndexOf(".")+1)+t},helper.rpc=function(e,t,a){if(this.isEmpty(e))return"";var r=e;while(r.indexOf(t)>-1)r=r.replace(t,a);return r}}}),ft={install:function(e){window.fw=function(){},fw.getCategory=function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Oe.a.post("/api/ajax/CategoryData",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),fw.getBoard=function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Oe.a.post("/api/ajax/BoardData",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),fw._previewRender=function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,a,r){var s,i,l,n,o,c,p,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("_previewRender"),console.log(a),!helper.isNull(a)){e.next=5;break}return t.html('<div style="margin:30px;"><h3>미리보기를 불러오는 중입니다.</h3></div>'),e.abrupt("return",!1);case 5:if(helper.isNull(a[1])){e.next=69;break}if(s=a[1][0],i=helper.getExtension(s.file_name),l="",r||t.show(),$("#dvDrawContainer").hide(),"hoops"!=s.pdf_converter){e.next=41;break}if(n=helper.getExtension(s.file_path),o=helper.getExtension(s.preview_path),helper.getSafeBoolean(base.useDrawingViewer)&&!helper.chkDrawingImgFile(n)&&"jpg"!=o){e.next=18;break}return t.html("<img src='"+helper.setChangeFileExtension(helper.rpc(s.file_path,"/"+n+"/","/jpg/"),"jpg")+"' style='width:100%; ' />"),$("#dvPdfContainer").show(),e.abrupt("return");case 18:if("변환대기"!=helper.getSafeStr(s.pdf_convert_state,"")){e.next=23;break}return r||t.html('<div style="margin:30px;"><h3>미리보기 준비중</h3> <img src="/Content/images/index.discuss-ellipsis-preloader.gif" /></div>'),e.abrupt("return");case 23:if("진행중"!=helper.getSafeStr(s.pdf_convert_state,"")){e.next=28;break}return r||t.html('<div style="margin:30px;"><h3>미리보기 생성중</h3> <img src="/Content/images/index.discuss-ellipsis-preloader.gif" /></div>'),e.abrupt("return");case 28:if("변환실패11"!=helper.getSafeStr(s.pdf_convert_state,"")){e.next=31;break}return r||t.html('<div style="margin:30px;"><h3>미리보기가 없습니다.</h3>'+l+"</div>"),e.abrupt("return");case 31:r||t.hide(),c="",c=s.preview_path,$("#dvDrawPreview").attr("src",""),$("#dvDrawLoading").remove(),$("#dvDrawContainer").show(),$("#dvPdfTitle").html("<a class='btn btn-primary'  href='"+c+"' target='_blank;'><i class='icon fa fa-window-restore'> 새창열기</a>"),$.get(c).done(function(){r?$._popupCenter(c,"미리보기",1e3,800):$("#dvDrawPreview").attr("src",c)}).fail(function(e){return r?(alert("미리보기를 할 수 없습니다."),!1):(t.html('<div style="margin:30px;"><h3>미리보기가 없습니다.</h3></div>'),!1)}),e.next=69;break;case 41:e.t0=i,e.next="jpeg"===e.t0?44:"jpg"===e.t0?44:"psd"===e.t0?44:"tif"===e.t0?44:"webp"===e.t0?44:"png"===e.t0?44:"gif"===e.t0?44:"bmp"===e.t0?44:"mp4"===e.t0?47:50;break;case 44:return $.get("/WebHandler/PdfViewerHandler.ashx?fileHistoryId="+s.file_history_id,function(e){t.html("<img src='data:image/"+i+";base64,"+e+"' style='width:100%; ' />")}),e.abrupt("return",!0);case 47:return r||t.html("<video src='"+s.file_path+'\' width="640px" height="380px" autoplay />'),e.abrupt("return",!0);case 50:if(l='<div class="fileinput fileinput-new" data-provides="fileinput">                                       <span class="btn btn-default btn-file"><span class="fileinput-new"><i class="fa fa-plus"></i> 미리보기 업로드</span><span class="fileinput-exists">파일변경</span>                                       <input type="hidden"><input type="file" name="" class="edPreviewUpload" accept=".pdf">                                       </span>                                       <span type="button" class="btn btn-primary fileinput-exists btPreivewUpload" preview="main" file_history_id='+s.file_history_id+'>업로드</span>                                       <span class="fileinput-filename"></span>                                   </div>',"진행중"==helper.getSafeStr(s.pdf_convert_state,"")?r||t.html('<div style="margin:30px;"><h3>미리보기 준비중</h3> <img src="/Content/images/index.discuss-ellipsis-preloader.gif" /></div>'):r||t.html('<div style="margin:30px;"><h3>Preview Loading</h3> <img src="/Content/images/index.discuss-ellipsis-preloader.gif" /></div>'),""==$.trim(helper.getSafeStr(s.pdf_stream_id,""))||"변환성공"!=s.pdf_convert_state){e.next=58;break}p=helper.setChangeFileExtension(s.preview_path,"pdf"),u="/Scripts/vendor/viewer/viewer.html?file="+encodeURIComponent(p)+"&uid="+escape(user.user_id)+"&sid="+escape(user.sessionId)+"&ran="+Math.random(4),$.get(p).done(function(){r?$._popupCenter(u,"미리보기",1e3,800):t.html('<iframe class="lazy"  id="dvPdfIframe" src="'+u+'" onload="$.calcHeight(this);" frameborder="0" scrolling="no" style="overflow-x:hidden; overflow:auto; width:100%; min-height:500px;"></iframe>')}).fail(function(e){return r||t.html('<div style="margin:30px;"><h3>미리보기가 없습니다.</h3>'+l+"</div>"),!1}),e.next=69;break;case 58:if("진행중"!=helper.getSafeStr(s.pdf_convert_state,"")){e.next=62;break}t.html('<div style="margin:30px;"><h3>미리보기 준비중</h3>'+l+"</div>"),e.next=69;break;case 62:if(r){e.next=67;break}return t.html('<div style="margin:30px;"><h3>미리보기가 없습니다.</h3>'+l+"</div>"),e.abrupt("return",!1);case 67:return alert("미리보기를 할 수 없습니다."),e.abrupt("return",!1);case 69:case"end":return e.stop()}},e)}));return function(t,a,r){return e.apply(this,arguments)}}()}},ht=a("ce5b"),mt=a.n(ht);s["default"].use(mt.a),s["default"].use(l["a"]),s["default"].use(vt),s["default"].use(ft);var gt=new l["a"]({mode:"history",routes:ut}),xt=gt,_t=a("2f62"),bt=a("0b92"),wt=a.n(bt),yt=a("11c8");s["default"].use(mt.a),s["default"].use(yt["a"]),s["default"].use(wt.a),s["default"].use(_t["a"]),s["default"].config.productionTip=!0;var Dt={state:{user:[],loggin:!1},actions:{}},St={state:{board:[],arrData:[]},getters:{doArrData:function(e,t){return e.arrData}},actions:{loadBoard:function(e){e.dispatch;var t=e.state,a=e.rootState;try{var r={category_id:xt.currentRoute.params.bid,user_id:a.l.user.userid},s=helper.getJSON("board_get",r);if(null===s)return;s.then(function(e){t.board=e;try{var a={board_id:e[0].board_id},r=helper.getJSON("files_get",a);r.then(function(e){var a={},r=[];e.forEach(function(e,t){a={},a.No=e.rn,a.fileName=e.file_name,a.Rev=e.revision,a.fileId=e.file_id,a.fileHistoryId=e.file_history_id,a.fileSize=e.file_size,a.fileType=e.file_type,a.createUsername=e.create_username,a.createDate=e.create_date,r.push(a)}),t.arrData=r,localStorage.setItem("boardFilesData",JSON.stringify(t.arrData))})}catch(s){}})}catch(i){console.log(i)}}}},Ct={state:{categoryId:"",category:[]},actions:{}},kt={state:{editPPapprovalState:!1}},Nt=new _t["a"].Store({namespaced:!0,modules:{l:Dt,b:St,c:Ct,a:kt}}),Pt=Nt,Rt=a("31bd"),Vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"app",dark:""}},[a("v-content",[a("AppRoot")],1)],1)},Tt=[],Ft=function(){var e=this,t=e.$createElement,r=e._self._c||t;return this.$store.state.l.loggin?r("div",[r("v-navigation-drawer",{attrs:{clipped:"",fixed:"",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[r("v-sheet",{staticClass:"pa-3 primary lighten-2"},[r("v-text-field",{attrs:{label:"Search Category",box:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),r("VTreeview",{attrs:{items:this.$store.state.c.category,activatable:"",search:e.search,"open-on-click":"","open-all":{searchLength:e.searchLength}>0,hoverable:""},scopedSlots:e._u([{key:"label",fn:function(t){var a=t.item;return[r("p",{staticStyle:{"margin-bottom":"0px","font-size":"15px"},on:{click:function(t){return t.preventDefault(),e.getRecBoard(a.id)}}},[r("v-icon",{attrs:{small:"",dark:""}},[e._v("folder_open")]),e._v("\n          "+e._s(a.name)+"\n        ")],1)]}}],null,!1,4098197050)})],1),r("v-toolbar",{attrs:{app:"",fixed:"","clipped-left":""}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs2:""}},[r("v-toolbar-side-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}})],1),r("v-flex",{attrs:{xs5:""}},[r("v-toolbar-title",{staticClass:"toolbarCompanyTitle",on:{click:function(t){return t.preventDefault(),e.home()}}},[r("v-img",{attrs:{src:a("42a2"),"min-width":"150px","min-height":"15px"}})],1)],1),r("v-flex",{attrs:{xs2:""}},[r("v-icon",{attrs:{sm:"",left:""},on:{click:function(t){return t.preventDefault(),e.back()}}},[e._v("arrow_back")])],1),r("v-flex",{attrs:{xs3:""}},[r("v-btn",{staticStyle:{"margin-left":"20px"},attrs:{flat:"",color:"red"},on:{click:function(t){return t.preventDefault(),e.logout()}}},[e._v("logout")])],1)],1)],1),r("router-view"),r("v-footer",{attrs:{app:"",fixed:""}},[r("span",[e._v("© CopyRight Jikyung 2019")])])],1):r("div",[r("v-toolbar",{attrs:{app:"",fixed:"","clipped-left":""}},[r("v-toolbar-title")],1),r("router-view"),r("v-footer",{attrs:{app:"",fixed:""}},[r("span",[e._v("© CopyRight Jikyung 2019")])])],1)},Et=[],It=a("7026"),$t=a.n(It),Ot=(a("470b"),a("1c4d")),Lt=a.n(Ot),At={components:{auth:He,board:pt,homePage:Fe,treeselect:$t.a,VTreeview:Lt.a},created:function(){this.isShow=this.$store.state.l.loggin},data:function(){return{routes:void 0,isShow:!1,drawer:!1,date:new Date,search:null,categoryData:[]}},methods:{home:function(){this.$router.push("/home-page")},logout:function(){Le.logout(),this.$store.state.l.loggin=!1,this.$router.push("/auth")},getRecBoard:function(e){this.$router.push("/getRecBoard/"+e)},back:function(){this.$router.go(-1)},loadOptions:function(e){var t=e.action,a=e.parentNode,r=e.callback;console.log("d"),t===It["LOAD_CHILDREN_OPTIONS"]&&(a.children=[{id:"child",label:"Child option"}],r()),t===It["LOAD_ROOT_OPTIONS"]&&(this.options=["a","b","c","d","e"].map(function(e){return{id:e,label:"option-".concat(e)}}),r())}}},jt=At,Ut=(a("5ed3"),a("553a")),zt=a("adda"),Mt=a("f774"),Bt=a("8dd9"),Ht=a("706c"),Jt=a("eb2a"),Gt=Object(x["a"])(jt,Ft,Et,!1,null,null,null),Wt=Gt.exports;b()(Gt,{VBtn:w["a"],VFlex:k["a"],VFooter:Ut["a"],VIcon:H["a"],VImg:zt["a"],VLayout:N["a"],VNavigationDrawer:Mt["a"],VSheet:Bt["a"],VTextField:G["a"],VToolbar:_e["a"],VToolbarSideIcon:Ht["a"],VToolbarTitle:be["a"],VTreeview:Jt["a"]});var qt={name:"App",components:{AppRoot:Wt},data:function(){return{}}},Yt=qt,Kt=a("7496"),Qt=a("549c"),Xt=Object(x["a"])(Yt,Vt,Tt,!1,null,null,null),Zt=Xt.exports;b()(Xt,{VApp:Kt["a"],VContent:Qt["a"]});var ea=a("ad3d"),ta=void 0!==localStorage.accessToken?helper.parseJwt(localStorage.accessToken):"",aa=void 0!==localStorage.categoryData?localStorage.categoryData:"",ra=function(){s["default"].prototype.$user=ta,s["default"].prototype.$http=Oe.a,s["default"].component("icon",ea["a"])},sa={created:function(){if(helper.isNull(localStorage.accessToken))Pt.state.l.loggin=!1,xt.push("/auth");else{var e=Date.now()/1e3;ta.exp<e?(Pt.state.l.loggin=!1,xt.push("/auth")):(Pt.state.l.loggin=!0,Pt.state.l.user=ta,Pt.state.c.category=JSON.parse(aa),Oe.a.defaults.headers.post["Content-Type"]="application/json",Oe.a.defaults.headers.common["Authorization"]="Bearer ".concat(localStorage.accessToken),ra())}}},ia=a("2ead"),la=a.n(ia);s["default"].config.productionTip=!1,Object(Rt["sync"])(Pt,xt,mt.a),new s["default"](Object(r["a"])({store:Pt,router:xt,Vuetify:mt.a,moment:la.a},sa,{render:function(e){return e(Zt)}})).$mount("#app")},"5ed3":function(e,t,a){"use strict";var r=a("742f"),s=a.n(r);s.a},"6a7d":function(e,t,a){},"742f":function(e,t,a){},"7a88":function(e,t,a){"use strict";var r=a("a44d"),s=a.n(r);s.a},8989:function(e,t,a){"use strict";var r=a("d9ca"),s=a.n(r);s.a},a44d:function(e,t,a){},b730:function(e,t,a){},cc93:function(e,t,a){"use strict";var r=a("27e2"),s=a.n(r);s.a},d9ca:function(e,t,a){},dac7:function(e,t,a){"use strict";var r=a("06f7"),s=a.n(r);s.a},e3c1:function(e,t,a){},ffef:function(e,t,a){"use strict";var r=a("6a7d"),s=a.n(r);s.a}});
//# sourceMappingURL=app.6b9c6bf7.js.map