(function(e){function t(t){for(var r,l,n=t[0],o=t[1],c=t[2],u=0,d=[];u<n.length;u++)l=n[u],s[l]&&d.push(s[l][0]),s[l]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);p&&p(t);while(d.length)d.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],r=!0,n=1;n<a.length;n++){var o=a[n];0!==s[o]&&(r=!1)}r&&(i.splice(t--,1),e=l(l.s=a[0]))}return e}var r={},s={app:0},i=[];function l(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=r,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(a,r,function(t){return e[t]}.bind(null,r));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],o=n.push.bind(n);n.push=t,n=n.slice();for(var c=0;c<n.length;c++)t(n[c]);var p=o;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"03ac":function(e,t,a){},"06f7":function(e,t,a){},1:function(e,t){},1300:function(e,t,a){"use strict";var r=a("b730"),s=a.n(r);s.a},"13a5":function(e,t,a){},2:function(e,t){},"27e2":function(e,t,a){},3:function(e,t){},4:function(e,t){},"42a2":function(e,t,a){e.exports=a.p+"img/jikyungLogo.3ecfc093.png"},4687:function(e,t,a){"use strict";var r=a("13a5"),s=a.n(r);s.a},"4e0d":function(e,t,a){"use strict";var r=a("e3c1"),s=a.n(r);s.a},"56d7":function(e,t,a){"use strict";a.r(t);var r=a("cebc"),s=(a("cadf"),a("551c"),a("f751"),a("097d"),a("2b0e")),i=a("bb71");a("da64");s["default"].use(i["a"],{iconfont:"md"});a("bf40"),a("db4d");var l=a("8c4f"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-responsive",[a("h5",{staticClass:"display-1"},[e._v("문서검색")]),a("v-divider",{staticClass:"my-3"}),a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-select",{attrs:{xs1:"",sm2:"",items:e.type,label:"유형선택",outline:""},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}}),a("v-text-field",{staticClass:"vtTotalSearch",attrs:{xs1:"",sm2:"",label:"검색어를 입력하세요"},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}})],1)],1),a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("div",{attrs:{xs1:"",sm2:"","text-xs-right":"","justify-center":""}},[a("v-btn",{attrs:{color:"primary",dark:""},on:{click:function(t){return e.btSearchFiles()}}},[e._v("검색")]),a("v-btn",{attrs:{color:"red",dark:""},on:{click:function(t){return e.reload()}}},[e._v("초기화")])],1)])],1),a("h5",{staticClass:"display-1"},[e._v("결재현황")]),a("v-divider",{staticClass:"my-3"}),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-container",[a("v-tabs",{attrs:{"fixed-tabs":""},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},[a("v-tab",{attrs:{centered:"",href:"#tab-1"}},[a("v-badge",[a("span",[e._v("상신")])])],1),a("v-tab",{attrs:{centered:"",href:"#tab-2"}},[a("v-badge",{scopedSlots:e._u([{key:"badge",fn:function(){return[a("span",[e._v(e._s(e.approvalDataLength))])]},proxy:!0}])},[a("span",[e._v("결재")])])],1),a("v-tab",{attrs:{centered:"",href:"#tab-3"}},[a("v-badge",{scopedSlots:e._u([{key:"badge",fn:function(){return[a("span",[e._v(e._s(e.releaseDataLength))])]},proxy:!0}])},[a("span",[e._v("배포")])])],1)],1),a("v-tabs-items",{model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},[a("v-tab-item",{attrs:{value:"tab-1"}},[a("v-card",[a("ReportState",{attrs:{data:e.reportData}})],1)],1),a("v-tab-item",{attrs:{value:"tab-2"}},[a("v-card",[a("ApprovalState",{attrs:{data:e.approvalData}})],1)],1),a("v-tab-item",{attrs:{value:"tab-3"}},[a("v-card",[a("ReleasedState",{attrs:{data:e.releasedData}})],1)],1)],1)],1)],1),a("router-view",{attrs:{data:this.resultData}})],1)},o=[],c=(a("7f7f"),a("ac6a"),a("96cf"),a("3b8d")),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{staticClass:"lyDataTable",attrs:{column:""}},[a("v-data-table",{staticClass:"approvalDataTable",class:{mobile:e.isMobile},attrs:{headers:e.commoneHeaders,items:e.data,pagination:e.pagination},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",{on:{click:function(a){return e.getRecApprovalDetail({item:t.item,type:"report"})}}},[a("td",[e._v("\n          "+e._s(t.item.approvalName)+"\n        ")]),a("td",[e._v(e._s(t.item.createUsername))]),a("td",[e._v(e._s(t.item.createDate))])])]}},{key:"no-data",fn:function(){return[a("td",{attrs:{colspan:"5"}},[e._v("상신한 문서가 없습니다.")])]},proxy:!0}])})],1)},u=[],d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",[a("v-container",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-layout",{staticClass:"lystateBaseInfo",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"","pl-2":""}},[a("v-text-field",{attrs:{label:"제목",disabled:""},model:{value:e.approvalName,callback:function(t){e.approvalName=t},expression:"approvalName"}}),a("v-text-field",{attrs:{label:"요청자",disabled:""},model:{value:e.createUsername,callback:function(t){e.createUsername=t},expression:"createUsername"}}),a("v-text-field",{attrs:{label:"작성일",disabled:""},model:{value:e.createDate,callback:function(t){e.createDate=t},expression:"createDate"}})],1)],1),a("v-card",{staticClass:"cdstateBaseInfoFiles"},[a("v-layout",{attrs:{column:""}},[a("v-data-table",{staticClass:"approvalDetailDataTable",class:{mobile:e.isMobile},attrs:{headers:e.headers,items:e.approvalRecFileData,pagination:e.pagination,"hide-headers":e.isMobile},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",[a("td",{staticClass:"flex-item",attrs:{"data-label":"No"}},[e._v(e._s(t.item.no))]),a("td",{staticClass:"flex-item one-line",attrs:{"data-label":"파일명"}},[a("v-tooltip",{attrs:{color:"black",bottom:"",right:"","max-width":"100%"},scopedSlots:e._u([{key:"activator",fn:function(r){var s=r.on;return[a("div",e._g({staticClass:"one-line",attrs:{dark:""},on:{click:function(a){return e.getFilePreview(t.item.fileHistoryId)}}},s),[e._v(e._s(t.item.fileName))])]}}],null,!0)},[a("iframe",{directives:[{name:"show",rawName:"v-show",value:e.iframe.loaded,expression:"iframe.loaded"}],staticStyle:{width:"80vw",height:"80vh"},attrs:{src:e.iframe.pdfFilePath,allowfullscreen:"yes",frameborder:"0",scrolling:"no"}})])],1),a("td",{staticClass:"flex-item",attrs:{"data-label":"rev"}},[e._v(e._s(t.item.rev))]),a("td",{staticClass:"flex-item",attrs:{"data-label":"작성자"}},[e._v(e._s(t.item.createUsername))]),a("td",{staticClass:"flex-item",attrs:{"data-label":"작성일"}},[e._v(e._s(t.item.createDate))])])]}},{key:"no-data",fn:function(){return[a("td",{attrs:{colspan:"5"}},[e._v("등록된 파일이 없습니다.")])]},proxy:!0}])})],1)],1),a("v-card",{staticStyle:{"background-color":"#ffc107",color:"black","margin-bottom":"10px"}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"headline"},[e._v("결재라인")])])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.handleScroll("approval")}}},[a("v-icon",[e._v(e._s(e.approvalshow?"keyboard_arrow_down":"keyboard_arrow_up"))])],1)],1),a("v-container",{directives:[{name:"show",rawName:"v-show",value:e.approvalshow,expression:"approvalshow"}],staticClass:"containerApproval",attrs:{fluid:"","grid-list-lg":""}},[a("v-layout",{staticStyle:{"background-color":"white"},attrs:{row:"",wrap:""}},[e._l(e.approvalLineData,function(t){return a("v-flex",{directives:[{name:"show",rawName:"v-show",value:e.isShowApprovalLine,expression:"isShowApprovalLine"}],key:t.userId,staticStyle:{padding:"15px"},attrs:{xs12:""}},[a("v-layout",{attrs:{row:""}},[a("v-btn",{staticClass:"ma-2",attrs:{outlined:"",fab:"",color:"black"}},[e._v(e._s(t.sort))]),t.isShowState?a("v-flex",{attrs:{xs4:"","pt-1":""}},[a("v-btn",{staticClass:"btState",attrs:{outline:"",small:"",color:""+t.color,data_userId:t.userId},on:{click:e.editState}},[e._v(e._s(t.state))]),a("v-divider")],1):a("v-flex",{attrs:{xs4:"","pt-1":""}},[a("v-btn",{staticClass:"btState",attrs:{outline:"",small:"",color:""+t.color},on:{click:e.editState}},[e._v(e._s(t.state))]),a("v-divider"),a("span",{staticStyle:{"font-weight":"bolder","padding-left":"15px"}},[e._v(e._s(t.updateDate))])],1),a("v-flex",{attrs:{xs8:""}},[a("span",[e._v(e._s(t.name)+" / "+e._s(t.dep))]),a("v-divider"),a("span",{domProps:{innerHTML:e._s(t.contents)}})],1)],1)],1)}),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:!e.isShowApprovalLine,expression:"!isShowApprovalLine"}],staticStyle:{padding:"15px"},attrs:{xs12:"",red:""}},[a("span",[a("b",[e._v("결재 라인이 없습니다.")])])])],2),e.isChange?a("approvalStateModal",{on:{close:function(t){e.isChange=!1}}}):e._e(),e.alert.dialog?a("Alert",{attrs:{alert:e.alert},on:{"update:alert":function(t){e.alert=t},close:function(t){e.alert.dialog=!1}}}):e._e()],1)],1),a("v-card"),a("v-card",{staticClass:"cdReleaseLineLayout",staticStyle:{"background-color":"#3b3c5a",color:"black"}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"headline"},[e._v("배포정보")])])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.handleScroll("release")}}},[a("v-icon",[e._v(e._s(e.releaseshow?"keyboard_arrow_down":"keyboard_arrow_up"))])],1)],1),a("v-container",{directives:[{name:"show",rawName:"v-show",value:e.releaseshow,expression:"releaseshow"}],staticClass:"containerRelease",attrs:{fluid:"","grid-list-lg":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",{staticClass:"white--text",attrs:{color:"white"}},[a("v-card-actions",{staticClass:"pa-3"},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[e._v("배포 다운로드 기간 :")]),a("v-spacer"),a("v-flex",{attrs:{xs7:""}},[a("div",[e._v(e._s(this.releaseStartDate)+" ~ "+e._s(this.releaseEndDate))])])],1)],1),a("v-divider",{attrs:{light:""}}),a("v-card-actions",{staticClass:"pa-3"},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs3:""}},[e._v("내부 배포처 :")]),a("v-spacer"),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:e.isShowEmployer,expression:"isShowEmployer"}],attrs:{xs9:""}},e._l(e.releaseEmployerLineData,function(t){return a("div",{key:t.name},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs9:""}},[a("span",[e._v(e._s(t.name))]),a("br")]),a("v-flex",{attrs:{xs4:""}},[a("span",[e._v(e._s(t.readDate))])])],1)],1)}),0),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:!e.isShowEmployer,expression:"!isShowEmployer"}],attrs:{xs9:"",red:""}},[a("span",{staticStyle:{color:"white"}},[e._v("내부 배포처가 없습니다.")])])],1)],1),a("v-card-actions",{staticClass:"pa-3"},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs3:""}},[e._v("외부 배포처 :")]),a("v-spacer"),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:e.isShowPartner,expression:"isShowPartner"}],attrs:{xs9:""}},[a("v-btn",{staticClass:"btn-partner",attrs:{color:"deep-purple lighten-1"}},[e._v("협력사")]),a("v-flex",{attrs:{xs12:""}},e._l(e.releasePartnerLineData,function(t){return a("div",{key:t.name,staticClass:"dvpartnerLine"},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs8:""}},[a("span",[e._v(e._s(t.name))]),a("br")]),a("v-flex",{attrs:{xs4:""}},[a("span",[e._v(e._s(t.readDate))]),a("br")])],1)],1)}),0)],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:!e.isShowPartner,expression:"!isShowPartner"}],attrs:{xs9:"",red:""}},[a("span",{staticStyle:{color:"white"}},[e._v("외부 배포처가 없습니다.")])])],1)],1)],1)],1)],1)],1)],1),a("v-card")],1)],1)},v=[],f=(a("28a5"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"modal"}},[a("v-dialog",{attrs:{"max-width":"500px"},on:{submit:function(t){return t.preventDefault(),e.setApprovalState()}},model:{value:this.$store.state.a.editPPapprovalState,callback:function(t){e.$set(this.$store.state.a,"editPPapprovalState",t)},expression:"this.$store.state.a.editPPapprovalState"}},[a("v-card",[a("v-card-title",[e._v("결재확인")]),a("v-card-text",[a("v-select",{attrs:{items:e.getStateData,label:"선택해주세요","item-value":"text"},model:{value:e.setApprovalData.state,callback:function(t){e.$set(e.setApprovalData,"state",t)},expression:"setApprovalData.state"}})],1),a("v-textarea",{staticClass:"textareaApprovalText",attrs:{"background-color":"grey lighten-2",height:"150px",label:"내용을 입력해주세요",color:"cyan"},model:{value:e.setApprovalData.contents,callback:function(t){e.$set(e.setApprovalData,"contents",t)},expression:"setApprovalData.contents"}}),a("v-card-actions",[a("v-layout",{attrs:{row:"","mb-2":""}},[a("v-flex",{attrs:{xs5:""}}),a("v-flex",{attrs:{xs7:"",right:""}},[a("v-btn",{attrs:{color:"blue darken-1",small:"",text:""},on:{click:e.submit}},[e._v("Save")]),a("v-btn",{attrs:{color:"blue darken-1",small:"",text:""},on:{click:function(t){return e.$emit("close",!1)}}},[e._v("Close")])],1)],1)],1)],1)],1)],1)}),h=[],m={data:function(){return{setApprovalData:{state:"",contents:""},getStateData:["승인","반려","보류","전결"],dialog:!1}},methods:{submit:function(){this.setApprovalState()},setApprovalState:function(){try{var e={approval_id:this.$route.params.aid,state:this.setApprovalData.state,contents:this.setApprovalData.contents,user_id:this.$store.state.l.user.userid,logging:""},t=this,a=helper.getINT(e,"approval_set");a.then(function(e){t.$store.state.a.editPPapprovalState=!1}),window.location.reload()}catch(r){}}}},_=m,g=a("2877"),x=a("6544"),b=a.n(x),w=a("8336"),y=a("b0af"),S=a("99d9"),D=a("12b2"),k=a("169a"),C=a("0e8f"),N=a("a722"),P=a("b56d"),V=a("a844"),T=Object(g["a"])(_,f,h,!1,null,null,null),R=T.exports;b()(T,{VBtn:w["a"],VCard:y["a"],VCardActions:S["a"],VCardText:S["b"],VCardTitle:D["a"],VDialog:k["a"],VFlex:C["a"],VLayout:N["a"],VSelect:P["a"],VTextarea:V["a"]});var E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"alert"}},[a("div",{staticClass:"text-center"},[a("v-dialog",{attrs:{width:"500"},model:{value:e.alert.dialog,callback:function(t){e.$set(e.alert,"dialog",t)},expression:"alert.dialog"}},[a("v-card",{staticClass:"alert"},[a("v-card-text",[e._v(e._s(e.alert.message))]),a("v-divider"),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{staticStyle:{"margin-left":"260px"},attrs:{color:"primary",text:""},nativeOn:{click:function(t){return e.close(t)}}},[e._v("취소")])],1)],1)],1)],1)])},F=[],I={props:["alert"],methods:{close:function(){this.$emit("close",!1)}}},L=I,O=a("ce7e"),A=Object(g["a"])(L,E,F,!1,null,"1250bb23",null),j=A.exports;b()(A,{VBtn:w["a"],VCard:y["a"],VCardActions:S["a"],VCardText:S["b"],VDialog:k["a"],VDivider:O["a"]});a("1c46");var U={created:function(){this.getApprovalGetData()},components:{approvalStateModal:R,Alert:j},data:function(){return{iframe:{pdfFilePath:"",loaded:!1},isChange:!1,loading:!1,approvalName:"",createUsername:"",createDate:"",fhid:"",releaseStartDate:"",releaseEndDate:"",releaseContents:"",releaseEmployerLineData:[],releasePartnerLineData:[],isShowApprovalLine:!1,isShowPartner:!1,isShowEmployer:!1,approvalshow:!1,releaseshow:!1,pagination:{sortBy:"no",descending:!0},isMobile:!1,scrollPosition:0,headers:[{text:"No",align:"left",value:"no"},{text:"파일명",align:"left",value:"fileName"},{text:"Rev",align:"left",value:"rev"},{text:"작성자",align:"left",value:"createUsername"},{text:"작성일",align:"left",value:"createDate"}],approvalRecFileData:[],approvalLineData:[],approvalUserId:"",alert:{dialog:!1,message:"결재자만 변경할 수 있습니다"}}},methods:{editState:function(e){var t=e.currentTarget.getAttribute("data_userId"),a=this;a.$store.state.l.user.userid!==t?(a.$store.state.a.editPPapprovalState=!1,a.alert.dialog=!0):(a.alert.dialog=!1,a.$store.state.a.editPPapprovalState=!0),a.isChange=a.$store.state.a.editPPapprovalState},getApprovalGetData:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:try{t={approval_id:this.$route.params.aid,user_id:this.$store.state.l.user.userid},a=helper.getJSON("approval_rec_get",t),r=this,{},[],[],a.then(function(e){if(helper.isNull(e[0]))r.approvalName="",r.createUsername="",r.createDate="",r.releaseStartDate="",r.releaseEndDate="",r.releaseContents="";else{r.approvalName=e[0].approval_name,r.createUsername=e[0].name,r.createDate=helper.getSafeDate(e[0].create_date),r.releaseStartDate=helper.getSafeDate(e[0].start_date),r.releaseEndDate=helper.getSafeDate(e[0].end_date),r.releaseContents=unescape(e[0].release_contents);var t="",a={},s=[];helper.isNull(e[0].release_employer_line)?(r.isShowEmployer=!1,r.releaseEmployerLineData=[]):(t=helper.isNull(e[0].release_employer_line.split("]*["))?"":e[0].release_employer_line.split("]*["),t.forEach(function(e,t){a={},a.name=helper.isNull(e.split("||"))?"":e.split("||")[0],a.readDate=helper.isNull(e.split("||"))?"":e.split("||")[1],s.push(a)}),r.isShowEmployer=!0,r.releaseEmployerLineData=s);var i="",l={},n=[];helper.isNull(e[0].release_partner_line)?(r.isShowPartner=!1,r.releasePartnerLineData=[]):(i=helper.isNull(e[0].release_partner_line.split("]*["))?"":e[0].release_partner_line.split("]*["),i.forEach(function(e,t){l={},l.name=helper.isNull(e.split("||"))?"":e.split("||")[0],l.readDate=helper.isNull(e.split("||"))?"":e.split("||")[1],l.state=helper.isNull(e.split("||"))?"":e.split("||")[2],l.to_mail=helper.isNull(e.split("||"))?"":e.split("||")[3],n.push(l)}),r.isShowPartner=!0,r.releasePartnerLineData=n);var o="",c={},p=[];helper.isNull(e[0].file_list)?r.approvalRecFileData=[]:(o=helper.isNull(e[0].file_list.split("]*["))?"":e[0].file_list.split("]*["),o.forEach(function(e,t){c={},c.no=t+1,c.fileName=helper.isNull(e.split("||"))?"":e.split("||")[0],c.fileHistoryId=helper.isNull(e.split("||"))?"":e.split("||")[1],c.rev=helper.isNull(e.split("||"))?"":e.split("||")[2],c.createUsername=helper.isNull(e.split("||"))?"":e.split("||")[3],c.createDate=helper.isNull(e.split("||"))?"":helper.getSafeDate(e.split("||")[4]),c.fileType=helper.isNull(e.split("||"))?"":e.split("||")[6],c.previewPath=helper.isNull(e.split("||"))?"":e.split("||")[8],c.filePath=helper.isNull(e.split("||"))?"":e.split("||")[9],p.push(c)}),r.approvalRecFileData=p);var u={},d=[],v=[];helper.isNull(e[0].approval_line)?(r.isShowApprovalLine=!1,r.approvalLineData=[]):(v=helper.isNull(e[0].approval_line.split("]*["))?"":e[0].approval_line.split("]*["),v.forEach(function(e,t){u={},u.sort=e.split("||")[0],u.name=e.split("||")[1],u.dep=e.split("||")[2],u.state=e.split("||")[3],u.updateDate=e.split("||")[4],u.userId=e.split("||")[5],u.contents=unescape(e.split("||")[6]),u.readDate=e.split("||")[7],u.isShowState=!1,u.errorMessage="결재자가 아닙니다.","승인"===u.state?u.color="indigo":"결재대기"===u.state?(u.readDate="","approval"===r.$route.params.type&&(u.isShowState=!0),u.color="teal"):"보류"===u.state?("approval"===r.$route.params.type&&(u.isShowState=!0),u.color="orange darken-4"):"반려"===u.state?u.color="red darken-4":"전결"===u.state&&(u.color="green darken-4"),d.push(u)}),r.isShowApprovalLine=!0,r.approvalLineData=d)}})}catch(s){}case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),handleScroll:function(e){var t="";"approval"===e&&(this.approvalshow=!this.approvalshow,t=this.$el.querySelector(".containerApproval")),"release"===e&&(this.releaseshow=!this.releaseshow,t=this.$el.querySelector(".containerRelease")),setTimeout(function(){t.scrollIntoView()},100)},getFilePreview:function(e){this.fhid=e;var t=this,a="http://59.19.86.14 ";this.approvalRecFileData.forEach(function(e,r){t.fhid===e.fileHistoryId&&(t.iframe.loaded=!0,helper.isNull(e.previewPath)?t.iframe.pdfFilePath=a+e.filePath:(t.iframe.pdfFilePath=a+e.previewPath,console.log(t.iframe.pdfFilePath)))})}}},H=U,B=(a("eddc"),a("a523")),M=a("8fea"),J=a("132d"),z=a("9910"),G=a("2677"),q=a("3a2f"),W=Object(g["a"])(H,d,v,!1,null,"7c838472",null),Y=W.exports;b()(W,{VBtn:w["a"],VCard:y["a"],VCardActions:S["a"],VCardTitle:D["a"],VContainer:B["a"],VDataTable:M["a"],VDivider:O["a"],VFlex:C["a"],VIcon:J["a"],VLayout:N["a"],VSpacer:z["a"],VTextField:G["a"],VTooltip:q["a"]});var K={created:function(){this.reportData=this.data},props:["data"],components:{approvalStateDetail:Y},data:function(){return{model:"tab-1",pagination:{sortBy:"createDate",descending:!0},search:"",isMobile:!1,isState:!1,date:new Date,commoneHeaders:[{text:"결재제목",align:"left",value:"approvalName"},{text:"요청자",align:"left",value:"createUsername"},{text:"요청일",align:"left",value:"createDate"}]}},methods:{getRecApprovalDetail:function(e){if(!event.target.classList.contains("datatable table")){var t=e.item.approvalId,a=e.type;this.$router.push("/approvalStateDetail/"+t+"/"+a)}}}},Q=K,X=Object(g["a"])(Q,p,u,!1,null,null,null),Z=X.exports;b()(X,{VDataTable:M["a"],VLayout:N["a"]});var ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{staticClass:"lyDataTable",attrs:{column:""}},[a("v-data-table",{staticClass:"approvalDataTable",attrs:{headers:e.commoneHeaders,items:e.data,pagination:e.pagination},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",{on:{click:function(a){return e.getRecApprovalDetail({item:t.item,type:"approval"})}}},[a("td",[e._v("\n          ["+e._s(t.item.renderType)+"] "+e._s(t.item.approvalName)+"\n        ")]),a("td",[e._v(e._s(t.item.createUsername))]),a("td",[e._v(e._s(t.item.createDate))])])]}},{key:"no-data",fn:function(){return[a("td",{attrs:{colspan:"5"}},[e._v("결재할 문서가 없습니다.")])]},proxy:!0}])})],1)},te=[],ae={components:{approvalStateDetail:Y},props:["data"],data:function(){return{model:"tab-1",pagination:{sortBy:"createDate",descending:!0},search:"",isMobile:!1,isState:!1,date:new Date,commoneHeaders:[{text:"결재제목",align:"left",value:"approvalName"},{text:"요청자",align:"left",value:"createUsername"},{text:"요청일",align:"left",value:"createDate"}]}},methods:{getRecApprovalDetail:function(e){if(!event.target.classList.contains("datatable table")){var t=e.item.approvalId,a=e.type;this.$router.push("/approvalStateDetail/"+t+"/"+a)}}}},re=ae,se=Object(g["a"])(re,ee,te,!1,null,null,null),ie=se.exports;b()(se,{VDataTable:M["a"],VLayout:N["a"]});var le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{staticClass:"lyDataTable",attrs:{column:""}},[a("v-data-table",{staticClass:"approvalDataTable",class:{mobile:e.isMobile},attrs:{headers:e.headers,items:e.data,pagination:e.pagination},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",{on:{click:function(a){return e.getRecReleaseDetail({item:t.item,type:"release"})}}},[a("td",[e._v("\n          "+e._s(t.item.approvalName)+"\n        ")]),a("td",[e._v(e._s(t.item.createUsername))]),a("td",[e._v(e._s(t.item.createDate))])])]}},{key:"no-data",fn:function(){return[a("td",{attrs:{colspan:"5"}},[e._v("배포 받은 문서가 없습니다.")])]},proxy:!0}])})],1)},ne=[],oe={props:["data"],data:function(){return{model:"tab-1",pagination:{sortBy:"createDate",descending:!0},isMobile:!1,headers:[{text:"결재제목",align:"left",value:"approvalName"},{text:"요청자",align:"left",value:"createUsername"},{text:"요청일",align:"left",value:"createDate"}],releasedData:[]}},methods:{getRecReleaseDetail:function(e){if(!event.target.classList.contains("datatable table")){var t=e.item.approvalId,a=e.type;this.$router.push("/releaseStateDetail/"+t+"/"+a)}}}},ce=oe,pe=(a("1300"),Object(g["a"])(ce,le,ne,!1,null,null,null)),ue=pe.exports;b()(pe,{VDataTable:M["a"],VLayout:N["a"]});var de={components:{ReportState:Z,ApprovalState:ie,ReleasedState:ue},created:function(){this.loadApprovalState()},data:function(){return{size:"sm",type:[{text:"파일명",value:"fileName"},{text:"확장명",value:"fileType"},{text:"작성자",value:"createUser"}],searchValue:"",selectedType:"",resultData:[],model:"tab-1",reportDataLength:0,approvalDataLength:0,releaseDataLength:0,approvalData:[],reportData:[],releasedData:[]}},methods:{btSearchFiles:function(){var e=this.selectedType,t=this.searchValue;this.$router.push("/searchResult/"+e+"/"+t)},reload:function(){this.selectedType="",this.searchValue=""},loadApprovalState:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,a,r,s,i,l,n,o,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:try{t={user_id:this.$store.state.l.user.userid},a=helper.getJSON("dashboard_get",t),r=this,s={},i=[],l={},n=[],o={},c=[],a.then(function(e){helper.isNull(e[0])?r.reportData=[]:(e[0].forEach(function(e,t){s={},s.approvalId=e.approval_id,s.approvalName=e.approval_name,s.createUsername=e.name,s.createDate=helper.getSafeDate(e.create_date),i.push(s)}),r.reportData=i),helper.isNull(e[1])?r.approvalData=[]:(e[1].forEach(function(e,t){null!==e.read_date&&""!==helper.getSafeDate(e.read_date)||r.approvalDataLength++,l={},l.approvalId=e.approval_id,l.approvalName=e.approval_name,l.createUsername=e.name,l.createDate=helper.getSafeDate(e.create_date),l.renderType="approval"===e.render_type?"결재":"release"===e.render_type?"배포":"",n.push(l)}),r.approvalData=n),helper.isNull(e[2])?r.releasedData=[]:(e[2].forEach(function(e,t){null!==e.read_date&&""!==helper.getSafeDate(e.read_date)||r.releaseDataLength++,o={},o.approvalId=e.approval_id,o.approvalName=e.approval_name,o.createUsername=e.name,o.createDate=helper.getSafeDate(e.create_date),c.push(o)}),r.releasedData=c)})}catch(p){}case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},ve=de,fe=(a("dac7"),a("4ca6")),he=a("6b53"),me=a("71a3"),_e=a("c671"),ge=a("fe57"),xe=a("aac8"),be=Object(g["a"])(ve,n,o,!1,null,null,null),we=be.exports;b()(be,{VBadge:fe["a"],VBtn:w["a"],VCard:y["a"],VContainer:B["a"],VDivider:O["a"],VLayout:N["a"],VResponsive:he["a"],VSelect:P["a"],VTab:me["a"],VTabItem:_e["a"],VTabs:ge["a"],VTabsItems:xe["a"],VTextField:G["a"]});var ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),e.handleSubmit()}}},[a("v-text-field",{staticClass:"v-text-field",attrs:{placeholder:"user_id",required:""},model:{value:e.user_id,callback:function(t){e.user_id=t},expression:"user_id"}}),a("v-text-field",{staticClass:"v-text-field",attrs:{placeholder:"user_pw",type:"password",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit(t)}},model:{value:e.user_pw,callback:function(t){e.user_pw=t},expression:"user_pw"}}),a("v-btn",{on:{click:e.submit}},[e._v("submit")]),a("v-btn",{on:{click:e.clear}},[e._v("clear")])],1)},Se=[],De=a("bc3a"),ke=a.n(De),Ce={login:Ne,logout:Pe};function Ne(e,t){return ke.a.post("/api/auth/login",{user_id:e,user_pw:t}).then(Ve)}function Pe(){localStorage.removeItem("accessToken")}function Ve(e){return""===e.data?null:(localStorage.accessToken=e.data,ke.a.defaults.headers.common["Authorization"]="Bearer ".concat(localStorage.accessToken),e.data)}var Te={auth:!1,data:function(){return{user_id:"",user_pw:""}},methods:{submit:function(){this.handleSubmit()},handleSubmit:function(){var e=this;if(helper.isNull(this.user_id&&this.user_pw))return alert("아이디 또는 비밀번호를 입력해주세요"),!1;Ce.login(this.user_id,this.user_pw).then(function(t){helper.isNull(t)?(alert("아이디 또는 비밀번호를 다시 입력해주세요"),e.$router.push("/auth")):(e.$store.state.l.user=helper.parseJwt(t),e.$store.state.l.loggin=!0,e.loadCategory())})},loadCategory:function(){try{var e={user_id:this.$store.state.l.user.userid},t=fw.getCategory(e),a=this,r=[];t.then(function(e){e.forEach(function(e,t){"doc"===e.category_area&&r.push(e)}),a.$store.state.c.category=r,localStorage.setItem("categoryData",JSON.stringify(r))});var s=this;setTimeout(function(){s.$router.push("/home-page")},300)}catch(i){window.alert(i)}},clear:function(){this.user_id="",this.user_pw=""}}},Re=Te,Ee=(a("4e0d"),Object(g["a"])(Re,ye,Se,!1,null,null,null)),Fe=Ee.exports;b()(Ee,{VBtn:w["a"],VTextField:G["a"]});var $e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-layout",{staticClass:"lystateBaseInfo",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"","pl-2":""}},[a("v-text-field",{attrs:{label:"배포제목",disabled:""},model:{value:e.approvalName,callback:function(t){e.approvalName=t},expression:"approvalName"}}),a("v-text-field",{attrs:{label:"배포자",disabled:""},model:{value:e.createUsername,callback:function(t){e.createUsername=t},expression:"createUsername"}}),a("v-text-field",{attrs:{label:"배포일",disabled:""},model:{value:e.createDate,callback:function(t){e.createDate=t},expression:"createDate"}})],1)],1),a("v-card",{staticClass:"cdstateBaseInfoFiles"},[a("v-layout",{attrs:{column:""}},[a("v-data-table",{staticClass:"approvalDetailDataTable",class:{mobile:e.isMobile},attrs:{headers:e.headers,items:e.approvalRecFileData,pagination:e.pagination,"hide-headers":e.isMobile},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",[a("td",{staticClass:"flex-item",attrs:{"data-label":"No"}},[e._v(e._s(t.item.no))]),a("td",{staticClass:"flex-item one-line",attrs:{"data-label":"파일명"}},[a("v-tooltip",{attrs:{color:"black",bottom:"",right:"","max-width":"100%"},scopedSlots:e._u([{key:"activator",fn:function(r){var s=r.on;return[a("div",e._g({staticClass:"one-line",attrs:{dark:""},on:{click:function(a){return e.getFilePreview(t.item.fileHistoryId)}}},s),[e._v(e._s(t.item.fileName))])]}}],null,!0)},[a("iframe",{directives:[{name:"show",rawName:"v-show",value:e.iframe.loaded,expression:"iframe.loaded"}],staticStyle:{width:"80vw",height:"80vh"},attrs:{src:e.iframe.pdfFilePath,allowfullscreen:"yes",frameborder:"0",scrolling:"no"}})])],1),a("td",{staticClass:"flex-item",attrs:{"data-label":"rev"}},[e._v(e._s(t.item.rev))]),a("td",{staticClass:"flex-item",attrs:{"data-label":"작성자"}},[e._v(e._s(t.item.createUsername))]),a("td",{staticClass:"flex-item",attrs:{"data-label":"작성일"}},[e._v(e._s(t.item.createDate))])])]}},{key:"no-data",fn:function(){return[a("td",{attrs:{colspan:"5"}},[e._v("등록된 파일이 없습니다.")])]},proxy:!0}])})],1)],1),a("v-card",{staticClass:"cdReleaseLineLayout",staticStyle:{"background-color":"#3b3c5a",color:"black"}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"headline"},[e._v("배포정보")])])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.handleScroll("release")}}},[a("v-icon",[e._v(e._s(e.releaseshow?"keyboard_arrow_down":"keyboard_arrow_up"))])],1)],1),a("v-container",{directives:[{name:"show",rawName:"v-show",value:e.releaseshow,expression:"releaseshow"}],attrs:{fluid:"","grid-list-lg":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",{staticClass:"white--text",attrs:{color:"white"}},[a("v-card-actions",{staticClass:"pa-3"},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[e._v("배포 내용 :")]),a("v-spacer"),a("v-flex",{attrs:{xs8:""}},[a("div",{domProps:{innerHTML:e._s(this.releaseContents)}})])],1)],1),a("v-card-actions",{directives:[{name:"show",rawName:"v-show",value:"배포커뮤니티"===e.releasePartnerMethod,expression:"releasePartnerMethod === '배포커뮤니티'"}],staticClass:"pa-3"},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[e._v("외부배포 방법 :")]),a("v-spacer"),a("v-flex",{attrs:{xs8:""}},[a("div",[e._v(e._s(e.releasePartnerMethod))])])],1)],1),a("v-card-actions",{directives:[{name:"show",rawName:"v-show",value:"배포커뮤니티"===e.releasePartnerMethod,expression:"releasePartnerMethod === '배포커뮤니티'"}],staticClass:"pa-3"},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[e._v("다운로드 횟수 :")]),a("v-spacer"),a("v-flex",{attrs:{xs8:""}},[a("div",[e._v(e._s(e.releaseDownloadCount))])])],1)],1),a("v-divider",{attrs:{light:""}}),a("v-card-actions",{staticClass:"pa-3"},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs3:""}},[e._v("내부 배포처 :")]),a("v-spacer"),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:e.isShowEmployer,expression:"isShowEmployer"}],attrs:{xs9:""}},e._l(e.releaseEmployerLineData,function(t){return a("div",{key:t.name},["release"===t.type?a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("span",[e._v(e._s(t.name))]),a("br")])],1):a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs9:""}},[a("span",[e._v(e._s(t.name))]),a("br")]),a("v-flex",{attrs:{xs4:""}},[a("span",[e._v(e._s(t.readDate))])])],1)],1)}),0),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:!e.isShowEmployer,expression:"!isShowEmployer"}],attrs:{xs9:"",red:""}},[a("span",{staticStyle:{color:"white"}},[e._v("내부 배포처가 없습니다.")])])],1)],1),a("v-card-actions",{staticClass:"pa-3"},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs3:""}},[e._v("외부 배포처 :")]),a("v-spacer"),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:e.isShowPartner,expression:"isShowPartner"}],attrs:{xs9:""}},[a("v-btn",{staticClass:"btn-partner",attrs:{color:"deep-purple lighten-1"}},[e._v("협력사")]),a("v-flex",{attrs:{xs12:""}},e._l(e.releasePartnerLineData,function(t){return a("div",{key:t.name,staticClass:"dvpartnerLine"},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("span",[e._v(e._s(t.name))]),a("br")])],1)],1)}),0)],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:!e.isShowPartner,expression:"!isShowPartner"}],attrs:{xs9:"",red:""}},[a("span",{staticStyle:{color:"white"}},[e._v("외부 배포처가 없습니다.")])])],1)],1)],1)],1)],1)],1)],1),a("v-card")],1)],1)},Ie=[],Le={created:function(){this.getReleaseGetData()},data:function(){return{iframe:{pdfFilePath:"",loaded:!1},isChange:!1,loading:!1,approvalName:"",createUsername:"",createDate:"",fhid:"",releaseStartDate:"",releaseEndDate:"",releaseContents:"",releasePartnerMethod:"",releaseDownloadCount:0,releaseEmployerLineData:[],releasePartnerLineData:[],isShowApprovalLine:!1,isShowPartner:!1,isShowEmployer:!1,approvalshow:!1,releaseshow:!1,pagination:{sortBy:"createDate",descending:!0},isMobile:!1,headers:[{text:"No",align:"left",value:"no"},{text:"파일명",align:"left",value:"fileName"},{text:"Rev",align:"left",value:"rev"},{text:"작성자",align:"left",value:"createUsername"},{text:"작성일",align:"left",value:"createDate"}],approvalRecFileData:[],approvalLineData:[],approvalUserId:"",alert:{dialog:!1,message:"결재자만 변경할 수 있습니다"}}},methods:{getReleaseGetData:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:try{t={approval_id:this.$route.params.aid,user_id:this.$store.state.l.user.userid},a=helper.getJSON("approval_release_rec_get",t),r=this,{},[],[],a.then(function(e){if(helper.isNull(e[0]))r.approvalName="",r.createUsername="",r.createDate="",r.releaseStartDate="",r.releaseEndDate="",r.releaseContents="";else{r.approvalName=e[0][0].approval_name,r.createUsername=e[0][0].name,r.createDate=helper.getSafeDate(e[0][0].create_date),r.releaseStartDate=helper.getSafeDate(e[0][0].start_date),r.releaseEndDate=helper.getSafeDate(e[0][0].end_date),r.releaseContents=unescape(e[0][0].release_contents),r.releasePartnerMethod="community"===e[0][0].release_transport?"배포커뮤니티":"메일",r.releaseDownloadCount=e[0][0].download_limit_count;var t="",a={},s=[];helper.isNull(e[0][0].release_employer_line)?(r.isShowEmployer=!1,r.releaseEmployerLineData=[]):(t=helper.isNull(e[0][0].release_employer_line.split("]+["))?"":e[0][0].release_employer_line.split("]+["),t.forEach(function(e,t){a={},a.name=helper.isNull(e.split("||"))?"":e.split("||")[0],a.readDate=helper.isNull(e.split("||"))?"":e.split("||")[1],a.type=r.$route.params.type,s.push(a)}),r.isShowEmployer=!0,r.releaseEmployerLineData=s);var i="",l={},n=[];helper.isNull(e[0][0].release_partner_line)?(r.isShowPartner=!1,r.releasePartnerLineData=[]):(i=helper.isNull(e[0][0].release_partner_line.split("]+["))?"":e[0][0].release_partner_line.split("]+["),i.forEach(function(e,t){l={},l.name=helper.isNull(e.split("||"))?"":e.split("||")[0],l.readDate=helper.isNull(e.split("||"))?"":e.split("||")[1],l.state=helper.isNull(e.split("||"))?"":e.split("||")[2],l.to_mail=helper.isNull(e.split("||"))?"":e.split("||")[3],l.type=r.$route.params.type,n.push(l)}),r.isShowPartner=!0,r.releasePartnerLineData=n)}var o={},c=[];helper.isNull(e[1])?r.approvalRecFileData=[]:(e[1].forEach(function(e,t){o={},o.no=t+1,o.createDate=helper.getSafeDate(e.create_date),o.fileHistoryId=e.file_history_id,o.fileName=e.file_name,o.createUsername=e.name,o.rev=e.revision,o.previewPath=e.preview_path,o.filePath=e.file_path,c.push(o)}),r.approvalRecFileData=c)})}catch(s){}case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),handleScroll:function(e){var t="";"release"===e&&(this.releaseshow=!this.releaseshow,t=this.$el.querySelector(".containerRelease")),setTimeout(function(){t.scrollIntoView()},100)},getFilePreview:function(e){this.fhid=e;var t=this;this.approvalRecFileData.forEach(function(e,a){t.fhid===e.fileHistoryId&&(t.iframe.loaded=!0,helper.isNull(e.previewPath)?t.iframe.pdfFilePath="http://125.7.231.47 "+e.filePath:t.iframe.pdfFilePath="http://125.7.231.47 "+e.previewPath)})}}},Oe=Le,Ae=(a("5ae0"),Object(g["a"])(Oe,$e,Ie,!1,null,"c60f7194",null)),je=Ae.exports;b()(Ae,{VBtn:w["a"],VCard:y["a"],VCardActions:S["a"],VCardTitle:D["a"],VContainer:B["a"],VDataTable:M["a"],VDivider:O["a"],VFlex:C["a"],VIcon:J["a"],VLayout:N["a"],VSpacer:z["a"],VTextField:G["a"],VTooltip:q["a"]});var Ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-toolbar",{staticClass:"toolbarApprovalStateTitle",attrs:{fixed:""}},[a("v-toolbar-title",{staticClass:"white--text"},[e._v("검색결과")]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{staticClass:"boardDataTable",attrs:{headers:e.headers,items:e.boardFilesData,expand:e.expand,search:e.search,pagination:e.pagination,"item-key":"No"},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",{on:{click:function(e){t.expanded=!t.expanded}}},[a("td",[e._v(e._s(t.item.No))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.fileName))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.Rev))])])]}},{key:"no-data",fn:function(){return[a("td",{staticClass:"text-xs-center",attrs:{colspan:"3"}},[e._v("등록된 파일이 없습니다.")])]},proxy:!0},{key:"expand",fn:function(e){return[a("boardDetailInfo",{attrs:{data:e}})]}},{key:"no-results",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[e._v('Your search for "'+e._s(e.search)+'" found no results.')])]},proxy:!0}])})],1)},He=[],Be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"ctFileDetailInfo"},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs3:""}},[a("v-subheader",[e._v("크기")])],1),a("v-flex",{attrs:{xs9:"","pt-2":""}},[a("label",[e._v(e._s(this.fileSize))])])],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs3:""}},[a("v-subheader",[e._v("확장자")])],1),a("v-flex",{attrs:{xs9:"","pt-2":""}},[a("label",[e._v(e._s(this.fileType))])])],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs3:""}},[a("v-subheader",[e._v("작성자")])],1),a("v-flex",{attrs:{xs9:"","pt-2":""}},[a("label",[e._v(e._s(this.createUsername))])])],1),a("v-layout",{staticStyle:{"margin-bottom":"10px"},attrs:{row:""}},[a("v-flex",{attrs:{xs3:""}},[a("v-subheader",[e._v("작성일")])],1),a("v-flex",{attrs:{xs9:"","pt-2":""}},[a("label",[e._v(e._s(this.createDate))])])],1),a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-flex",{attrs:{xs4:""}}),a("v-flex",{staticStyle:{"margin-left":"50px","margin-top":"5px"},attrs:{xs4:""}},[a("v-dialog",{attrs:{width:"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({staticClass:"btFileDetailInfo",attrs:{color:"primary",dark:""}},r),[e._v("상세보기")])]}}]),model:{value:e.isClose,callback:function(t){e.isClose=t},expression:"isClose"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("문서상세정보")])]),a("v-tabs",{staticClass:"tabBoardDetail",attrs:{"fixed-tabs":""},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},[a("v-tab",{attrs:{centered:"",href:"#tab-1"}},[e._v("미리보기")]),a("v-tab",{attrs:{centered:"",href:"#tab-2"}},[e._v("변경이력")]),a("v-tab",{attrs:{centered:"",href:"#tab-3"}},[e._v("연계문서")])],1),a("v-tabs-items",{model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},[a("v-tab-item",{attrs:{value:"tab-1"}},[a("v-card",{attrs:{flat:""}},[a("div",{staticClass:"subheading pl-3 pt-3"},[e._v(e._s(this.fileName))]),a("div",{ref:"dvPdfContainer"},[a("v-divider"),a("h3",{directives:[{name:"show",rawName:"v-show",value:!e.iframe.loaded,expression:"!iframe.loaded"}],staticStyle:{margin:"10px"}},[e._v("미리보기가 없습니다.")]),a("v-layout",{directives:[{name:"show",rawName:"v-show",value:!e.iframe.loaded,expression:"!iframe.loaded"}],staticClass:"fileinput fileinput-new",attrs:{"data-provides":"fileinput"}},[a("v-flex",{attrs:{xs7:""}},[a("input",{attrs:{type:"hidden"}}),a("input",{staticStyle:{"padding-top":"8px"},attrs:{type:"file",name:"",accept:".pdf"}})]),a("v-flex",{attrs:{xs5:""}},[a("v-btn",{staticClass:"white--text",attrs:{loading:e.loading1,disabled:e.loading1,color:"blue-grey"},on:{click:function(t){e.loader="loading1"}}},[e._v("\n                        Upload\n                        "),a("v-icon",{attrs:{right:"",dark:""}},[e._v("cloud_upload")])],1)],1)],1),a("iframe",{directives:[{name:"show",rawName:"v-show",value:e.iframe.loaded,expression:"iframe.loaded"}],staticStyle:{width:"80vw",height:"80vh"},attrs:{src:e.iframe.pdfFilePath,allowfullscreen:"yes",frameborder:"0",scrolling:"no"}})],1)])],1),a("v-tab-item",{attrs:{value:"tab-2"}},[a("v-card",{staticStyle:{"margin-bottom":"30px"},attrs:{flat:""}},[a("v-layout",{attrs:{column:""}},[a("v-data-table",{staticClass:"revisionHistoryDataTable",class:{mobile:e.isMobile},attrs:{headers:e.revisionHeaders,items:e.revisionData,pagination:e.paginationRevision},on:{"update:pagination":function(t){e.paginationRevision=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",[a("td",{staticClass:"flex-item"},[e._v(e._s(t.item.rev))]),a("td",{staticClass:"flex-item"},[a("v-tooltip",{attrs:{color:"black",bottom:"",right:"","max-width":"100%"},scopedSlots:e._u([{key:"activator",fn:function(r){var s=r.on;return[a("div",e._g({staticClass:"one-line",attrs:{dark:""},on:{click:function(a){return e.getRevisionPreview(t.item.fileHistoryId)}}},s),[e._v(e._s(t.item.fileName))])]}}],null,!0)},["최초등록"===t.item.firstRevision?a("div",[e._v(e._s(t.item.firstRevision))]):a("div",[a("label",[e._v("변경유형 :")]),a("span",[e._v(e._s(t.item.updateType))]),a("br"),a("label",[e._v("변경내용 :")]),a("span",[e._v(e._s(t.item.updateDesc))])]),a("br"),a("iframe",{directives:[{name:"show",rawName:"v-show",value:e.iframe.loaded,expression:"iframe.loaded"}],staticStyle:{width:"80vw",height:"80vh"},attrs:{src:e.iframe.revisionPdfFilePath,allowfullscreen:"yes",frameborder:"0",scrolling:"no"}})])],1),a("td",{staticClass:"flex-item"},[e._v(e._s(t.item.createDate))]),a("td",{staticClass:"flex-item"},[e._v(e._s(t.item.createUsername))])])]}},{key:"no-data",fn:function(){return[a("td",{attrs:{colspan:"5"}},[e._v("등록된 변경이력이 없습니다.")])]},proxy:!0}])})],1)],1)],1),a("v-tab-item",{attrs:{value:"tab-3"}},[a("v-card",{staticStyle:{"margin-bottom":"30px"},attrs:{flat:""}},[a("v-layout",{attrs:{column:""}},[a("v-data-table",{staticClass:"relationFilesDataTable",class:{mobile:e.isMobile},attrs:{headers:e.relationHeaders,items:e.relationData,pagination:e.pagination},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",[a("td",{staticClass:"flex-item"},[e._v(e._s(t.item.no))]),a("td",{staticClass:"flex-item"},[a("v-tooltip",{attrs:{color:"black",bottom:"",right:"","max-width":"100%"},scopedSlots:e._u([{key:"activator",fn:function(r){var s=r.on;return[a("div",e._g({staticClass:"one-line",attrs:{dark:""},on:{click:function(a){return e.getRelationPreview(t.item.fileHistoryId)}}},s),[e._v(e._s(t.item.fileName))])]}}],null,!0)},[a("iframe",{directives:[{name:"show",rawName:"v-show",value:e.iframe.loaded,expression:"iframe.loaded"}],staticStyle:{width:"80vw",height:"80vh"},attrs:{src:e.iframe.relationPdfFilePath,allowfullscreen:"yes",frameborder:"0",scrolling:"no"}})])],1),a("td",{staticClass:"flex-item"},[e._v(e._s(t.item.rev))]),a("td",{staticClass:"flex-item"},[e._v(e._s(t.item.createUsername))]),a("td",{staticClass:"flex-item"},[e._v(e._s(t.item.createDate))])])]}},{key:"no-data",fn:function(){return[a("td",{attrs:{colspan:"5"}},[e._v("등록된 연계문서가 없습니다.")])]},proxy:!0}])})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-1",flat:"flat"},on:{click:function(t){e.isClose=!1}}},[e._v("닫기")])],1)],1)],1)],1),a("v-flex",{attrs:{xs4:""}})],1)],1)},Me=[],Je={props:["data"],created:function(){this.fileName=this.data.item.fileName,this.fileId=this.data.item.fileId,this.fileHistoryId=this.data.item.fileHistoryId,this.fileSize=this.data.item.fileSize,this.fileType=this.data.item.fileType,this.createUsername=this.data.item.createUsername,this.createDate=helper.getSafeDate(this.data.item.createDate);var e={file_id:this.fileId,file_history_id:this.fileHistoryId,user_id:this.$store.state.l.user.userid};this.getRevisionTable(e)},data:function(){return{iframe:{pdfFilePath:"",revisionPdfFilePath:"",relationPdfFilePath:"",loaded:!1},disabled:!1,loading1:!1,relationFhid:"",revisionFhid:"",fileSize:"",fileType:"",createUsername:"",createDate:"",fileName:"",model:"tab-1",isClose:!1,pagination:{sortBy:"rev",descending:!0},paginationRevision:{sortBy:"no",descending:!0},isMobile:!0,relationHeaders:[{text:"no",align:"left",value:"no"},{text:"파일명",align:"left",value:"fileName"},{text:"Rev",align:"left",value:"rev"},{text:"작성자",align:"left",value:"createUsername"},{text:"작성일",align:"left",value:"createDate"},{text:"",align:"left",value:"revisionInfo"}],revisionHeaders:[{text:"rev",align:"left",value:"rev"},{text:"파일명",align:"left",value:"fileName"},{text:"작성일",align:"left",value:"createDate"},{text:"작성자",align:"left",value:"createUsername"}],relationData:[],revisionData:[]}},methods:{getRevisionTable:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var a,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a="http://59.19.86.14";try{r=helper.getJSON("files_rec_get",t),s=this,r.then(function(e){var t={},r=[],i=[],l="";e[0].forEach(function(e,a){helper.isNull(e)?r=[]:(t={},t.rev=e.rn,t.fileHistoryId=e.file_history_id,t.fileName=e.file_name,t.createDate=helper.getSafeDate(e.create_date),t.createUsername=e.name,t.previewPath=e.preview_path,t.filePath=e.file_path,1===e.rn&&helper.isNull(e.work_desc)&&(e.work_desc="최초등록",t.firstRevision=e.work_desc),l=e.work_desc,i=helper.isNull(l.split("||"))?"":l.split("||"),t.updateType=""===i[2]?"":i[2],t.updateDesc=""===i[3]?"":i[3],r.push(t))}),s.revisionData=r,helper.isNull(e[1][0].preview_path)?(s.iframe.loaded=!0,s.iframe.pdfFilePath=a+e[1][0].file_path):(s.iframe.loaded=!0,s.iframe.pdfFilePath=a+e[1][0].preview_path);var n={},o=[];e[3].forEach(function(e,t){if(-1===e.rtnVal)return s.relationData="",s.relationData;n={},n.no=e.rn,n.fileHistoryId=e.file_history_id,n.fileName=e.file_name,n.rev=e.revision,n.createDate=helper.getSafeDate(e.create_date),n.createUsername=e.create_username,n.previewPath=e.preview_path,n.filePath=e.file_path,o.push(n)}),s.relationData=o})}catch(i){}case 2:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),getRelationPreview:function(e){var t="http://59.19.86.14";this.relationFhid=e;var a=this;this.relationData.forEach(function(e,r){a.relationFhid===e.fileHistoryId&&(a.iframe.loaded=!0,helper.isNull(e.previewPath)?a.iframe.pdfFilePath=t+e.filePath:a.iframe.relationPdfFilePath=t+e.previewPath)})},getRevisionPreview:function(e){this.revisionFhid=e;var t="http://59.19.86.14",a=this;this.revisionData.forEach(function(e,r){a.revisionFhid===e.fileHistoryId&&(a.iframe.loaded=!0,helper.isNull(e.previewPath)?a.iframe.pdfFilePath=t+e.filePath:a.iframe.revisionPdfFilePath=t+e.previewPath)})}}},ze=Je,Ge=(a("cc93"),a("e0c7")),qe=Object(g["a"])(ze,Be,Me,!1,null,null,null),We=qe.exports;b()(qe,{VBtn:w["a"],VCard:y["a"],VCardActions:S["a"],VCardTitle:D["a"],VContainer:B["a"],VDataTable:M["a"],VDialog:k["a"],VDivider:O["a"],VFlex:C["a"],VIcon:J["a"],VLayout:N["a"],VSpacer:z["a"],VSubheader:Ge["a"],VTab:me["a"],VTabItem:_e["a"],VTabs:ge["a"],VTabsItems:xe["a"],VTooltip:q["a"]});var Ye={created:function(){this.boardFilesData=[]},watch:{$route:function(e,t){this.getData()}},components:{boardDetailInfo:We},data:function(){return{pagination:{sortBy:"No",descending:!0},search:"",date:new Date,expand:!1,headers:[{text:"No",align:"left",sortable:!0,value:"No",width:"5%"},{text:"파일명",align:"left",value:"fileName",width:"80%"},{text:"Rev",align:"left",value:"Rev",width:"5%"}],boardFilesData:[],boardId:"",obj_detail:{}}},methods:{getData:function(){try{var e={},t=[];this.boardFilesData=[];var a={category_id:this.$router.currentRoute.params.bid,user_id:this.$store.state.l.user.userid},r=helper.getJSON("board_get",a);if(null===r)return;return r.then(function(a){try{var r={board_id:a[0].board_id},s=helper.getJSON("files_get",r);s.then(function(a){a.forEach(function(a,r){e={},e.No=a.rn,e.fileName=a.file_name,e.Rev=a.revision,e.fileId=a.file_id,e.fileHistoryId=a.file_history_id,e.fileSize=a.file_size,e.fileType=a.file_type,e.createUsername=a.create_username,e.createDate=a.create_date,t.push(e)})})}catch(i){}}),this.boardFilesData=t,t}catch(s){console.log(s)}}}},Ke=Ye,Qe=(a("ffef"),a("0798")),Xe=a("71d9"),Ze=a("2a7f"),et=Object(g["a"])(Ke,Ue,He,!1,null,null,null),tt=et.exports;b()(et,{VAlert:Qe["a"],VDataTable:M["a"],VSpacer:z["a"],VTextField:G["a"],VToolbar:Xe["a"],VToolbarTitle:Ze["a"]});var at=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-toolbar",{staticClass:"toolbarApprovalStateTitle",attrs:{fixed:""}},[a("v-toolbar-title",{staticClass:"white--text"},[e._v("검색결과")]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{staticClass:"searchResultDataTable",attrs:{headers:e.resultHeaders,items:e.results,search:e.search,"custom-sort":e.customSort,"item-key":"No"},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",[a("td",[e._v(e._s(t.item.No))]),a("td",{staticClass:"text-xs-left one-line"},[a("v-tooltip",{attrs:{color:"black",bottom:"",right:"","max-width":"100%"},scopedSlots:e._u([{key:"activator",fn:function(r){var s=r.on;return[a("div",e._g({staticClass:"one-line",attrs:{dark:""},on:{click:function(a){return e.GetResultPreview(t.item.fileHistoryId)}}},s),[e._v(e._s(t.item.fileName))])]}}],null,!0)},[a("span",[e._v(e._s(t.item.fileName))]),a("iframe",{directives:[{name:"show",rawName:"v-show",value:e.iframe.loaded,expression:"iframe.loaded"}],staticStyle:{width:"80vw",height:"80vh"},attrs:{src:e.iframe.pdfFilePath,allowfullscreen:"yes",frameborder:"0",scrolling:"no"}})])],1),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.Rev))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.createUserName))])])]}},{key:"no-data",fn:function(){return[a("td",{staticClass:"text-xs-center",attrs:{colspan:"4"}},[e._v("\n        검색한 파일이 없습니다\n        "),a("div",{})])]},proxy:!0}])})],1)},rt=[],st=(a("55dd"),{created:function(){this.btSearchFiles()},data:function(){return{iframe:{pdfFilePath:"",loaded:!1},filehid:"",search:"",date:new Date,resultHeaders:[{text:"No",align:"left",sortable:!0,value:"No",width:"5%"},{text:"파일명",align:"left",value:"fileName",width:"70%"},{text:"Rev",align:"left",value:"Rev",width:"5%"},{text:"작성자",align:"left",value:"createUserName",width:"20%"}],results:[]}},methods:{btSearchFiles:function(){try{var e={start_date:"",end_date:"",search_type:this.$route.params.searchType,search_value:this.$route.params.searchValue,user_id:this.$store.state.l.user.userid},t=helper.getJSON("files_search_get",e),a=this;t.then(function(e){var t={},r=[];helper.isNull(e)?a.results=[]:(e.forEach(function(e,a){t={},t.No=e.rn,t.fileName=e.file_name,t.Rev=e.revision,t.createUserName=e.create_username,t.fileHistoryId=e.file_history_id,t.previewPath=e.preview_path,t.filePath=e.file_path,r.push(t)}),a.results=r)})}catch(r){}},GetResultPreview:function(e){this.filehid=e;var t=this;this.results.forEach(function(e,a){t.filehid===e.fileHistoryId&&(t.iframe.loaded=!0,helper.isNull(e.previewPath)?t.iframe.pdfFilePath="http://125.7.231.47 "+e.filePath:t.iframe.pdfFilePath="http://125.7.231.47 "+e.previewPath)})},customSort:function(e,t,a){return e.sort(function(e,r){if("date"===t)return a?compare(r.date,e.date):compare(e.date,r.date)}),e}}}),it=st,lt=(a("4687"),Object(g["a"])(it,at,rt,!1,null,null,null)),nt=lt.exports;b()(lt,{VDataTable:M["a"],VSpacer:z["a"],VTextField:G["a"],VToolbar:Xe["a"],VToolbarTitle:Ze["a"],VTooltip:q["a"]});var ot=[{name:"home-page",path:"/home-page",component:we,display:"HomePage",icon:"home",meta:{requiresLogin:!0}},{name:"auth",path:"/auth",component:Fe,display:"Auth",icon:"graduation-cap"},{name:"reportState",path:"/reportState",component:Z,display:"reportState"},{name:"approvalState",path:"/approvalState",component:ie,display:"approvalState"},{name:"approvalStateDetail",path:"/approvalStateDetail/:aid/:type",component:Y,display:"approvalStateDetail"},{name:"releaseStateDetail",path:"/releaseStateDetail/:aid/:type",component:je,display:"releaseStateDetail"},{name:"getRecBoard",path:"/getRecBoard/:bid",component:tt,display:"getRecBoard"},{name:"releasedState",path:"/releasedState",component:ue,display:"releasedState"},{name:"searchResult",path:"/searchResult/:searchType/:searchValue",component:nt,display:"searchResult"}],ct=a("7618"),pt=(a("a481"),{install:function(e){e.directive("focus",{inserted:function(e){e.focus()}}),window.helper=function(){},this.getSafeInt=function(e,t){return t=this.isSafeInt(t)?t:0,this.isSafeInt(e)?parseInt(e,10):t},helper.getSafeFloat=function(e,t){return t=this.isSafeFloat(t)?t:0,this.isSafeFloat(e)?parseFloat(e,10):t},helper.getSafeStr=function(e,t){return t=this.isEmptyStr(t)?"":t,this.isEmptyStr(e)?t.trim():e.trim()},helper.parseJwt=function(e){if(this.isNull(e))return"";var t=e.split(".")[1],a=t.replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(decodeURIComponent(window.atob(a)))},helper.navNoShow=function(e,t){return e.filter(function(e){return-1===e.name.indexOf(t)})},helper.getSafeBool=function(e,t){return t=!this.isEmpty(t)&&t,e=this.isEmpty(e)?t:e,!0===e||!1===e?e:1===e||0===e?1===e:"true"===e||"false"===e?"true"===e:"True"===e||"False"===e?"True"===e:"TRUE"===e||"FALSE"===e?"TRUE"===e:("1"===e||"0"===e)&&"1"===e},helper.getSafeDate=function(e,t,a){var r=this.isEmpty(e)?a:this.getDateFromJsonDate(e);return r},helper.getDateFromJsonDate=function(e){var t="";try{if(null!==e&&(t=e.substring(0,10),this.isSafeInt(t)))return new Date(parseInt(t,10))}catch(a){}return t},helper.brText=function(){return this.replace(/\n/g,"<br />")},helper.isNull=function(e){var t=!0;return t="undefined"===typeof e||void 0===e||"null"===e||null===e||""===e||Object(ct["a"])(e)===[]&&e.length<1,t},helper.isEmpty=function(e){return"undefined"===typeof e||void 0===e||null===e},helper.serialize=function(e,t){var a,r=[];for(a in e)if(e.hasOwnProperty(a)){var s=t?t+"["+a+"]":a,i=e[a];r.push(null!==i&&"object"===Object(ct["a"])(i)?this.serialize(i,s):encodeURIComponent(s)+"="+encodeURIComponent(i))}return r.join("&")},helper.getJSON=function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,a,r){var s,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,s={spName:t,jsonParam:JSON.stringify(a),logging:""},e.next=4,ke.a.post("/api/ajax/dbGetResultAsJson",s).then(r).catch(function(e){});case 4:return i=e.sent,e.abrupt("return",i.data);case 8:e.prev=8,e.t0=e["catch"](0);case 10:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,a,r){return e.apply(this,arguments)}}(),helper.getINT=function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=JSON.stringify(t),e.next=3,ke.a.get("/api/ajax/dbGetResultAsInt?spName="+a+"&jsonParam="+t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),helper.getSTR=function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=JSON.stringify(t),e.next=3,ke.a.get("/api/ajax/dbGetResultAsStr?spName="+a+"&jsonParam="+t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),helper.getExtension=function(e){if(helper.isNull(e))return"";var t=e.substr(e.lastIndexOf(".")+1).toLowerCase();return t},helper.getSafeBoolean=function(e,t){return t=!this.isEmpty(t)&&t,e=this.isEmpty(e)?t:e,!0===e||!1===e?e:1===e||0===e?1===e:"true"===e||"false"===e?"true"===e:"True"===e||"False"===e?"True"===e:"TRUE"===e||"FALSE"===e?"TRUE"===e:("1"===e||"0"===e)&&"1"===e},helper.chkDrawingImgFile=function(e){return-1!=$.inArray(e,base.drawingImgExt)},helper.setChangeFileExtension=function(e,t){if(helper.isNull(e))return"";e.substr(e.lastIndexOf(".")+1).toLowerCase();return e.substring(0,e.lastIndexOf(".")+1)+t},helper.rpc=function(e,t,a){if(this.isEmpty(e))return"";var r=e;while(r.indexOf(t)>-1)r=r.replace(t,a);return r}}}),ut={install:function(e){window.fw=function(){},fw.getCategory=function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ke.a.post("/api/ajax/CategoryData",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),fw.getBoard=function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ke.a.post("/api/ajax/BoardData",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),fw._previewRender=function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,a,r){var s,i,l,n,o,c,p,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("_previewRender"),console.log(a),!helper.isNull(a)){e.next=5;break}return t.html('<div style="margin:30px;"><h3>미리보기를 불러오는 중입니다.</h3></div>'),e.abrupt("return",!1);case 5:if(helper.isNull(a[1])){e.next=69;break}if(s=a[1][0],i=helper.getExtension(s.file_name),l="",r||t.show(),$("#dvDrawContainer").hide(),"hoops"!=s.pdf_converter){e.next=41;break}if(n=helper.getExtension(s.file_path),o=helper.getExtension(s.preview_path),helper.getSafeBoolean(base.useDrawingViewer)&&!helper.chkDrawingImgFile(n)&&"jpg"!=o){e.next=18;break}return t.html("<img src='"+helper.setChangeFileExtension(helper.rpc(s.file_path,"/"+n+"/","/jpg/"),"jpg")+"' style='width:100%; ' />"),$("#dvPdfContainer").show(),e.abrupt("return");case 18:if("변환대기"!=helper.getSafeStr(s.pdf_convert_state,"")){e.next=23;break}return r||t.html('<div style="margin:30px;"><h3>미리보기 준비중</h3> <img src="/Content/images/index.discuss-ellipsis-preloader.gif" /></div>'),e.abrupt("return");case 23:if("진행중"!=helper.getSafeStr(s.pdf_convert_state,"")){e.next=28;break}return r||t.html('<div style="margin:30px;"><h3>미리보기 생성중</h3> <img src="/Content/images/index.discuss-ellipsis-preloader.gif" /></div>'),e.abrupt("return");case 28:if("변환실패11"!=helper.getSafeStr(s.pdf_convert_state,"")){e.next=31;break}return r||t.html('<div style="margin:30px;"><h3>미리보기가 없습니다.</h3>'+l+"</div>"),e.abrupt("return");case 31:r||t.hide(),c="",c=s.preview_path,$("#dvDrawPreview").attr("src",""),$("#dvDrawLoading").remove(),$("#dvDrawContainer").show(),$("#dvPdfTitle").html("<a class='btn btn-primary'  href='"+c+"' target='_blank;'><i class='icon fa fa-window-restore'> 새창열기</a>"),$.get(c).done(function(){r?$._popupCenter(c,"미리보기",1e3,800):$("#dvDrawPreview").attr("src",c)}).fail(function(e){return r?(alert("미리보기를 할 수 없습니다."),!1):(t.html('<div style="margin:30px;"><h3>미리보기가 없습니다.</h3></div>'),!1)}),e.next=69;break;case 41:e.t0=i,e.next="jpeg"===e.t0?44:"jpg"===e.t0?44:"psd"===e.t0?44:"tif"===e.t0?44:"webp"===e.t0?44:"png"===e.t0?44:"gif"===e.t0?44:"bmp"===e.t0?44:"mp4"===e.t0?47:50;break;case 44:return $.get("/WebHandler/PdfViewerHandler.ashx?fileHistoryId="+s.file_history_id,function(e){t.html("<img src='data:image/"+i+";base64,"+e+"' style='width:100%; ' />")}),e.abrupt("return",!0);case 47:return r||t.html("<video src='"+s.file_path+'\' width="640px" height="380px" autoplay />'),e.abrupt("return",!0);case 50:if(l='<div class="fileinput fileinput-new" data-provides="fileinput">                                       <span class="btn btn-default btn-file"><span class="fileinput-new"><i class="fa fa-plus"></i> 미리보기 업로드</span><span class="fileinput-exists">파일변경</span>                                       <input type="hidden"><input type="file" name="" class="edPreviewUpload" accept=".pdf">                                       </span>                                       <span type="button" class="btn btn-primary fileinput-exists btPreivewUpload" preview="main" file_history_id='+s.file_history_id+'>업로드</span>                                       <span class="fileinput-filename"></span>                                   </div>',"진행중"==helper.getSafeStr(s.pdf_convert_state,"")?r||t.html('<div style="margin:30px;"><h3>미리보기 준비중</h3> <img src="/Content/images/index.discuss-ellipsis-preloader.gif" /></div>'):r||t.html('<div style="margin:30px;"><h3>Preview Loading</h3> <img src="/Content/images/index.discuss-ellipsis-preloader.gif" /></div>'),""==$.trim(helper.getSafeStr(s.pdf_stream_id,""))||"변환성공"!=s.pdf_convert_state){e.next=58;break}p=helper.setChangeFileExtension(s.preview_path,"pdf"),u="/Scripts/vendor/viewer/viewer.html?file="+encodeURIComponent(p)+"&uid="+escape(user.user_id)+"&sid="+escape(user.sessionId)+"&ran="+Math.random(4),$.get(p).done(function(){r?$._popupCenter(u,"미리보기",1e3,800):t.html('<iframe class="lazy"  id="dvPdfIframe" src="'+u+'" onload="$.calcHeight(this);" frameborder="0" scrolling="no" style="overflow-x:hidden; overflow:auto; width:100%; min-height:500px;"></iframe>')}).fail(function(e){return r||t.html('<div style="margin:30px;"><h3>미리보기가 없습니다.</h3>'+l+"</div>"),!1}),e.next=69;break;case 58:if("진행중"!=helper.getSafeStr(s.pdf_convert_state,"")){e.next=62;break}t.html('<div style="margin:30px;"><h3>미리보기 준비중</h3>'+l+"</div>"),e.next=69;break;case 62:if(r){e.next=67;break}return t.html('<div style="margin:30px;"><h3>미리보기가 없습니다.</h3>'+l+"</div>"),e.abrupt("return",!1);case 67:return alert("미리보기를 할 수 없습니다."),e.abrupt("return",!1);case 69:case"end":return e.stop()}},e)}));return function(t,a,r){return e.apply(this,arguments)}}()}},dt=a("ce5b"),vt=a.n(dt);s["default"].use(vt.a),s["default"].use(l["a"]),s["default"].use(pt),s["default"].use(ut);var ft=new l["a"]({mode:"history",routes:ot}),ht=ft,mt=a("2f62"),_t=a("0b92"),gt=a.n(_t),xt=a("11c8");s["default"].use(vt.a),s["default"].use(xt["a"]),s["default"].use(gt.a),s["default"].use(mt["a"]),s["default"].config.productionTip=!0;var bt={state:{user:[],loggin:!1},actions:{}},wt={state:{categoryId:"",category:[]},actions:{}},yt={state:{editPPapprovalState:!1}},St=new mt["a"].Store({namespaced:!0,modules:{l:bt,c:wt,a:yt}}),Dt=St,kt=a("31bd"),Ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"app",dark:""}},[a("v-content",[a("AppRoot")],1)],1)},Nt=[],Pt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return this.$store.state.l.loggin?r("div",[r("v-navigation-drawer",{attrs:{clipped:"",fixed:"",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[r("v-sheet",{staticClass:"pa-3 primary lighten-2"},[r("v-text-field",{attrs:{label:"Search Category",dark:"",flat:"","solo-inverted":"","hide-details":"",clearable:"","clear-icon":"mdi-close-circle-outline",box:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),r("v-treeview",{attrs:{items:this.$store.state.c.category,activatable:"",search:e.search},scopedSlots:e._u([{key:"label",fn:function(t){var a=t.item;return[r("p",{staticStyle:{"margin-bottom":"0px","font-size":"15px"},on:{click:function(t){return t.preventDefault(),e.getRecBoard(a.id)}}},[r("v-icon",{attrs:{small:"",dark:""}},[e._v("folder_open")]),e._v("\n          "+e._s(a.name)+"\n        ")],1)]}}],null,!1,4098197050)})],1),r("v-toolbar",{attrs:{app:"",fixed:"","clipped-left":""}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs2:"",sm2:""}},[r("v-toolbar-side-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}})],1),r("v-flex",{attrs:{xs5:"",sm5:""}},[r("v-toolbar-title",{staticClass:"toolbarCompanyTitle",on:{click:function(t){return t.preventDefault(),e.home()}}},[r("v-img",{attrs:{src:a("42a2"),"min-width":"150px","min-height":"15px"}})],1)],1),r("v-flex",{attrs:{xs2:"",sm2:""}},[r("v-icon",{attrs:{xs1:"",sm1:"",left:""},on:{click:function(t){return t.preventDefault(),e.back()}}},[e._v("arrow_back")])],1),r("v-flex",{attrs:{xs3:"",sm3:""}},[r("v-btn",{staticStyle:{"margin-left":"20px"},attrs:{xs1:"",sm1:"",flat:"",color:"red"},on:{click:function(t){return t.preventDefault(),e.logout()}}},[e._v("logout")])],1)],1)],1),r("router-view"),r("v-footer",{attrs:{app:"",fixed:""}},[r("span",[e._v("© CopyRight Jikyung 2019")])])],1):r("div",[r("v-toolbar",{attrs:{app:"",fixed:"","clipped-left":""}},[r("v-toolbar-title")],1),r("router-view"),r("v-footer",{attrs:{app:"",fixed:""}},[r("span",[e._v("© CopyRight Jikyung 2019")])])],1)},Vt=[],Tt={created:function(){this.isShow=this.$store.state.l.loggin},data:function(){return{routes:void 0,isShow:!1,drawer:!1,date:new Date,search:null,categoryData:[],categoryChildData:[],categoryArea:""}},methods:{home:function(){this.$router.push("/home-page")},logout:function(){Ce.logout(),this.$store.state.l.loggin=!1,this.$router.push("/auth")},getRecBoard:function(e){this.$router.push("/getRecBoard/"+e)},back:function(){this.$router.go(-1)},searchChildValue:function(e){var t=[];t=this.$store.state.c.category,console.log("1"),console.log(e);t.forEach(function(t,a){var r=t.name;e!==r&&(helper.isNull(t.children)||t.children.forEach(function(t,a){var s=t.name;s.indexOf(e)>0&&r}))})}}},Rt=Tt,Et=(a("5ed3"),a("553a")),Ft=a("adda"),$t=a("f774"),It=a("8dd9"),Lt=a("706c"),Ot=a("eb2a"),At=Object(g["a"])(Rt,Pt,Vt,!1,null,null,null),jt=At.exports;b()(At,{VBtn:w["a"],VFlex:C["a"],VFooter:Et["a"],VIcon:J["a"],VImg:Ft["a"],VLayout:N["a"],VNavigationDrawer:$t["a"],VSheet:It["a"],VTextField:G["a"],VToolbar:Xe["a"],VToolbarSideIcon:Lt["a"],VToolbarTitle:Ze["a"],VTreeview:Ot["a"]});var Ut={name:"App",components:{AppRoot:jt},data:function(){return{}}},Ht=Ut,Bt=a("7496"),Mt=a("549c"),Jt=Object(g["a"])(Ht,Ct,Nt,!1,null,null,null),zt=Jt.exports;b()(Jt,{VApp:Bt["a"],VContent:Mt["a"]});var Gt=a("ad3d"),qt=void 0!==localStorage.accessToken?helper.parseJwt(localStorage.accessToken):"",Wt=void 0!==localStorage.categoryData?localStorage.categoryData:"",Yt=function(){s["default"].prototype.$user=qt,s["default"].prototype.$http=ke.a,s["default"].component("icon",Gt["a"])},Kt={created:function(){if(helper.isNull(localStorage.accessToken))Dt.state.l.loggin=!1,ht.push("/auth");else{var e=Date.now()/1e3;qt.exp<e?(Dt.state.l.loggin=!1,ht.push("/auth")):(Dt.state.l.loggin=!0,Dt.state.l.user=qt,Dt.state.c.category=JSON.parse(Wt),ke.a.defaults.headers.post["Content-Type"]="application/json",ke.a.defaults.headers.common["Authorization"]="Bearer ".concat(localStorage.accessToken),Yt())}}},Qt=a("2ead"),Xt=a.n(Qt),Zt=a("252c");s["default"].config.productionTip=!1,Object(kt["sync"])(Dt,ht,vt.a),new s["default"](Object(r["a"])({store:Dt,router:ht,Vuetify:vt.a,VueResize:Zt["a"],moment:Xt.a},Kt,{render:function(e){return e(zt)}})).$mount("#app")},"5ae0":function(e,t,a){"use strict";var r=a("03ac"),s=a.n(r);s.a},"5ed3":function(e,t,a){"use strict";var r=a("742f"),s=a.n(r);s.a},"6a7d":function(e,t,a){},"742f":function(e,t,a){},"838d":function(e,t,a){},b730:function(e,t,a){},cc93:function(e,t,a){"use strict";var r=a("27e2"),s=a.n(r);s.a},dac7:function(e,t,a){"use strict";var r=a("06f7"),s=a.n(r);s.a},e3c1:function(e,t,a){},eddc:function(e,t,a){"use strict";var r=a("838d"),s=a.n(r);s.a},ffef:function(e,t,a){"use strict";var r=a("6a7d"),s=a.n(r);s.a}});
//# sourceMappingURL=app.fa93512f.js.map